{
  "hash": "f35b579376e4be01cbb55f6d44ee8283",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"25 Years of Currency Shifts\"\nsubtitle: \"Change in Big Mac purchasing power vs the US dollar, 2000â€“2025. Most currencies saw Big Mac prices rise relative to the dollar\"\ndescription: \"A makeover of The Economist's Big Mac Index reveals how purchasing power shifted against the US dollar from 2000 to 2025. This diverging bar chart shows 12 of 15 currencies weakened significantlyâ€”Israel, Japan, and Taiwan lost over 60 percentage pointsâ€”while only Poland, Czech Republic, and Australia strengthened. Built with R and ggplot2, using semantic color choice and directional arrows for clarity.\"\ndate: \"2026-02-10\"\nauthor:\n  - name: \"Steven Ponce\"\n    url: \"https://stevenponce.netlify.app\"\ncitation:\n  url: \"https://stevenponce.netlify.app/data_visualizations/MakeoverMonday/2026/mm_2026_06.html\"\ncategories: [\"MakeoverMonday\", \"Data Visualization\", \"R Programming\", \"2026\"]   \ntags: [\n  \"makeover-monday\",\n  \"data-visualization\",\n  \"ggplot2\",\n  \"economics\",\n  \"currency\",\n  \"big-mac-index\",\n  \"purchasing-power-parity\",\n  \"diverging-bar-chart\",\n  \"the-economist\",\n  \"r-programming\",\n  \"financial-data\",\n  \"international-economics\",\n  \"exchange-rates\",\n  \"data-storytelling\"\n]\nimage: \"thumbnails/mm_2026_06.png\"\nformat:\n  html:\n    toc: true\n    toc-depth: 5\n    code-link: true\n    code-fold: true\n    code-tools: true\n    code-summary: \"Show code\"\n    self-contained: true\n    theme: \n      light: [flatly, assets/styling/custom_styles.scss]\n      dark: [darkly, assets/styling/custom_styles_dark.scss]\neditor_options: \n  chunk_output_type: inline\nexecute: \n  freeze: true                                      \n  cache: true                                       \n  error: false\n  message: false\n  warning: false\n  eval: true\n---\n\n\n\n### Original\n\nThe original visualization comes from [Global Big Mac Index](https://data.world/makeovermonday/2026w6-global-big-mac-index)\n\n![Original visualization](https://raw.githubusercontent.com/poncest/MakeoverMonday/refs/heads/master/2026/Week_06/original_chart.png)\n\n### Makeover\n\n![Diverging bar chart of Big Mac Index changes vs US dollar, 2000-2025. Top 15 currency shifts from Israel (-78pp) to Poland (+33pp). Twelve currencies weakened (orange), three strengthened (blue). Arrows indicate direction: more expensive (left) vs cheaper (right).](mm_2026_06.png){#fig-1}\n\n### [**Steps to Create this Graphic**]{.mark}\n\n#### [1. Load Packages & Setup]{.smallcaps}\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: load\n#| warning: false\n#| message: false      \n#| results: \"hide\"     \n\n## 1. LOAD PACKAGES & SETUP ----\nsuppressPackageStartupMessages({\n  if (!require(\"pacman\")) install.packages(\"pacman\")\n  pacman::p_load(\n    tidyverse, ggtext, showtext, scales, glue,\n    janitor, lubridate\n)\n})\n\n### |- figure size ----\n# camcorder::gg_record(\n#     dir    = here::here(\"temp_plots\"),\n#     device = \"png\",\n#     width  = 10,\n#     height = 8,\n#     units  = \"in\",\n#     dpi    = 320\n# )\n\n# Source utility functions\nsuppressMessages(source(here::here(\"R/utils/fonts.R\")))\nsource(here::here(\"R/utils/social_icons.R\"))\nsource(here::here(\"R/utils/image_utils.R\"))\nsource(here::here(\"R/themes/base_theme.R\"))\n```\n````\n:::\n\n\n#### [2. Read in the Data]{.smallcaps}\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: read\n#| include: true\n#| eval: true\n#| warning: false\n#| \n\nbig_mac_index_raw <- read_csv(\n  here::here(\"data/MakeoverMonday/2026/big-mac-full-index.csv\")) |>\n  clean_names()\n```\n````\n:::\n\n\n#### [3. Examine the Data]{.smallcaps}\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: examine\n#| include: true\n#| eval: true\n#| results: 'hide'\n#| warning: false\n\nglimpse(big_mac_index_raw)\n```\n````\n:::\n\n\n#### [4. Tidy Data]{.smallcaps}\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: tidy\n#| warning: false\n\n### |-  prepare data ----\ntime_series_data <- big_mac_index_raw |>\n  mutate(date = mdy(date))\n\nlatest_date <- max(time_series_data$date, na.rm = TRUE)\n\ncurrent_data <- time_series_data |>\n  filter(date == latest_date) |>\n  arrange(desc(usd_raw))\n\n### |-  calculate 25-year change ----\nfirst_obs <- time_series_data |>\n  filter(year(date) == 2000) |>\n  group_by(name) |>\n  slice_min(date, n = 1, with_ties = FALSE) |>\n  ungroup() |>\n  select(name, usd_raw_start = usd_raw)\n\n# Compute movers from 2000\ncurrency_movers <- current_data |>\n  inner_join(first_obs, by = \"name\") |>\n  mutate(\n    total_change = (usd_raw - usd_raw_start) * 100,\n    direction = if_else(total_change > 0, \"Strengthened\", \"Weakened\")\n  ) |>\n  slice_max(order_by = abs(total_change), n = 15, with_ties = FALSE) |>\n  arrange(total_change) |>\n  mutate(name = fct_inorder(name))\n```\n````\n:::\n\n\n#### [5. Visualization Parameters]{.smallcaps}\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: params\n#| include: true\n#| warning: false\n\n### |-  plot aesthetics ----\ncolors <- get_theme_colors(\n  palette = list(\n    strengthened  = \"#2C5F8D\",    \n    weakened      = \"#C97A4A\",    \n    neutral_dark  = \"#5378A6\",\n    neutral_light = \"gray90\"\n  )\n)\n\n### |-  Main titles ----\ntitle_text <- \"25 Years of Currency Shifts\"\n\nsubtitle_text <- str_glue(\n  \"Change in Big Mac purchasing power vs the US dollar, 2000â€“2025. Most currencies saw Big Mac prices rise relative to the dollar\"\n)\n\ncaption_text <- create_mm_caption(\n  mm_year = 2026, mm_week = 06,\n  source_text = \"Data: The Economist Big Mac Index<br>**Note:** Values show change in Big Mac price competitiveness over 25 years. Based on raw prices (not GDP-adjusted).\"\n)\n\n### |-  fonts ----\nsetup_fonts()\nfonts <- get_font_families()\n\n### |-  plot theme ----\n\n# Start with base theme\nbase_theme <- create_base_theme(colors)\n\n# Add weekly-specific theme elements\nweekly_theme <- extend_weekly_theme(\n  base_theme,\n  theme(\n    # # Text styling\n    plot.title = element_text(\n      size = rel(1.3), family = fonts$title, face = \"bold\",\n      color = colors$title, lineheight = 1.1, hjust = 0,\n      margin = margin(t = 5, b = 10)\n    ),\n    plot.subtitle = element_text(\n      size = rel(0.8), family = fonts$subtitle, face = \"italic\",\n      color = alpha(colors$subtitle, 0.9), lineheight = 1.1,\n      margin = margin(t = 0, b = 20)\n    ),\n\n    # Legend formatting\n    legend.position = \"plot\",\n    legend.justification = \"right\",\n    legend.margin = margin(l = 12, b = 5),\n    legend.key.size = unit(0.8, \"cm\"),\n    legend.box.margin = margin(b = 10),\n\n    # Axis formatting\n    # axis.line.x = element_line(color = \"#252525\", linewidth = .1),\n    # axis.ticks.y = element_blank(),\n    axis.ticks.x = element_line(color = \"gray\", linewidth = 0.5),\n    axis.title.x = element_text(\n      face = \"bold\", size = rel(0.85),\n      margin = margin(t = 10), family = fonts$subtitle,\n      color = \"gray40\"\n    ),\n    axis.title.y = element_text(\n      face = \"bold\", size = rel(0.85),\n      margin = margin(r = 10), family = fonts$subtitle,\n      color = \"gray40\"\n    ),\n    axis.text.x = element_text(\n      size = rel(0.85), family = fonts$subtitle,\n      color = \"gray40\"\n    ),\n    axis.text.y = element_markdown(\n      size = rel(0.85), family = fonts$subtitle,\n      color = \"gray40\"\n    ),\n\n    # Grid lines\n    panel.grid.minor = element_line(color = \"#ecf0f1\", linewidth = 0.2),\n    panel.grid.major = element_line(color = \"#ecf0f1\", linewidth = 0.4),\n\n    # Margin\n    plot.margin = margin(20, 20, 20, 20)\n  )\n)\n\n# Set theme\ntheme_set(weekly_theme)\n```\n````\n:::\n\n\n#### [6. Plot]{.smallcaps}\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: plot\n#| warning: false\n\n### |- final plot ----\np <- ggplot(currency_movers, aes(x = total_change, y = name)) +\n  # Annotate\n  annotate(\n    \"rect\",\n    xmin = -0.75, xmax = 0.75,\n    ymin = -Inf, ymax = Inf,\n    fill = \"gray95\", alpha = 1\n  ) +\n  # Geoms\n  geom_vline(xintercept = 0, linewidth = 0.8, color = \"gray55\") +\n  geom_col(aes(fill = direction), width = 0.72, show.legend = FALSE) +\n  geom_text(\n    aes(\n      label = sprintf(\"%+.0f\", total_change),\n      hjust = if_else(total_change >= 0, -0.10, 1.10)\n    ),\n    size = 3,\n    fontface = \"bold\"\n  ) +\n  # Annotate\n  annotate(\n    \"segment\",\n    x = -63, xend = -68,\n    y = 14, yend = 14,\n    arrow = arrow(length = unit(0.2, \"cm\"), type = \"closed\"),\n    color = colors$palette$weakened,\n    linewidth = 0.8\n  ) +\n  annotate(\n    \"text\",\n    x = -68, y = 14.5,\n    label = \"More expensive\\nin USD\",\n    hjust = 0,\n    vjust = 0,\n    size = 2.8,\n    color = colors$palette$weakened,\n    fontface = \"italic\",\n    lineheight = 0.9\n  ) +\n  annotate(\n    \"segment\",\n    x = 40, xend = 45,\n    y = 14, yend = 14,\n    arrow = arrow(length = unit(0.2, \"cm\"), type = \"closed\"),\n    color = colors$palette$strengthened,\n    linewidth = 0.8\n  ) +\n  annotate(\n    \"text\",\n    x = 40, y = 14.5,\n    label = \"Cheaper\\nin USD\",\n    hjust = 0,\n    vjust = 0,\n    size = 2.8,\n    color = colors$palette$strengthened,\n    fontface = \"italic\",\n    lineheight = 0.9\n  ) +\n  # Scales\n  scale_fill_manual(values = c(\n    \"Strengthened\" = colors$palette$strengthened,\n    \"Weakened\" = colors$palette$weakened\n  )) +\n  scale_x_continuous(\n    labels = label_number(style_positive = \"plus\"),\n    expand = expansion(mult = c(0.10, 0.12)),\n    breaks = seq(-60, 30, by = 20)\n  ) +\n  coord_cartesian(clip = \"off\") +\n  # Labs\n  labs(\n    title = title_text,\n    subtitle = subtitle_text,\n    caption = caption_text,\n    x = \"Change in valuation since 2000 (pp, USD-based Big Mac Index)\",\n    y = NULL\n  ) +\n  # Theme\n  theme(\n    panel.grid.minor = element_blank(),\n    panel.grid.major.y = element_blank(),\n    panel.grid.major.x = element_line(color = \"gray90\", linewidth = 0.3),\n    plot.title = element_markdown(\n      size = rel(1.4),\n      family = fonts$title,\n      face = \"bold\",\n      color = colors$title,\n      lineheight = 1.15,\n      margin = margin(t = 0, b = 5)\n    ),\n    plot.subtitle = element_markdown(\n      size = rel(0.8),\n      family = fonts$subtitle,\n      face = \"italic\",\n      color = alpha(colors$subtitle, 0.88),\n      lineheight = 1.5,\n      margin = margin(t = 5, b = 25)\n    ),\n    plot.caption = element_markdown(\n      size = rel(0.5),\n      family = fonts$subtitle,\n      color = colors$caption,\n      hjust = 0,\n      lineheight = 1.4,\n      margin = margin(t = 20, b = 5)\n    )\n  )\n```\n````\n:::\n\n\n#### [7. Save]{.smallcaps}\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: save\n#| warning: false\n\n### |-  plot image ----  \nsave_plot(\n  plot = p, \n  type = \"makeovermonday\", \n  year = current_year,\n  week = current_week,\n  width = 10, \n  height = 8\n  )\n```\n````\n:::\n\n\n#### [8. Session Info]{.smallcaps}\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for Session Info\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.4.1 (2024-06-14 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 11 x64 (build 26100)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=English_United States.utf8 \n[2] LC_CTYPE=English_United States.utf8   \n[3] LC_MONETARY=English_United States.utf8\n[4] LC_NUMERIC=C                          \n[5] LC_TIME=English_United States.utf8    \n\ntime zone: America/New_York\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nother attached packages:\n [1] here_1.0.1      janitor_2.2.0   glue_1.8.0      scales_1.4.0   \n [5] showtext_0.9-7  showtextdb_3.0  sysfonts_0.8.9  ggtext_0.1.2   \n [9] lubridate_1.9.5 forcats_1.0.1   stringr_1.6.0   dplyr_1.2.0    \n[13] purrr_1.2.1     readr_2.1.6     tidyr_1.3.2     tibble_3.3.1   \n[17] ggplot2_4.0.2   tidyverse_2.0.0 pacman_0.5.1   \n\nloaded via a namespace (and not attached):\n [1] gtable_0.3.6       xfun_0.56          htmlwidgets_1.6.4  tzdb_0.5.0        \n [5] vctrs_0.7.1        tools_4.4.0        generics_0.1.3     curl_7.0.0        \n [9] parallel_4.4.0     pkgconfig_2.0.3    RColorBrewer_1.1-3 S7_0.2.1          \n[13] lifecycle_1.0.5    compiler_4.4.0     farver_2.1.2       textshaping_1.0.4 \n[17] codetools_0.2-20   snakecase_0.11.1   litedown_0.9       htmltools_0.5.8.1 \n[21] yaml_2.3.12        pillar_1.11.1      crayon_1.5.3       magick_2.9.0      \n[25] commonmark_2.0.0   tidyselect_1.2.1   digest_0.6.37      stringi_1.8.7     \n[29] rprojroot_2.0.4    fastmap_1.2.0      grid_4.4.0         cli_3.6.5         \n[33] magrittr_2.0.4     withr_3.0.2        bit64_4.5.2        timechange_0.4.0  \n[37] rmarkdown_2.30     bit_4.5.0          ragg_1.5.0         hms_1.1.4         \n[41] evaluate_1.0.5     knitr_1.51         markdown_2.0       rlang_1.1.7       \n[45] gridtext_0.1.5     Rcpp_1.1.1         xml2_1.5.2         renv_1.0.3        \n[49] rstudioapi_0.17.1  vroom_1.6.5        jsonlite_2.0.0     R6_2.6.1          \n[53] systemfonts_1.3.1 \n```\n\n\n:::\n:::\n\n:::\n\n#### [9. GitHub Repository]{.smallcaps}\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for GitHub Repo\n\nThe complete code for this analysis is available in [mm_2026_06.qmd](https://github.com/poncest/personal-website/blob/master/data_visualizations/MakeoverMonday/2026/mm_2026_06.qmd).\n\nFor the full repository, [click here](https://github.com/poncest/personal-website/).\n:::\n\n#### [10. References]{.smallcaps}\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for References\n\n**Primary Data (Makeover Monday):**\n\n1.  Makeover Monday 2026 Week 6: [Big Mac Index](https://data.world/makeovermonday/2026w6-global-big-mac-index)\n2.  Original Article: [The Big Mac Index](https://www.economist.com/interactive/big-mac-index)\n    -   Source: The Economist\n    -   Coverage: Big Mac prices and currency valuations, 2000â€“2025\n\n**Source Data:**\n\n3.  Big Mac Index Full Dataset: [GitHub Repository](https://github.com/TheEconomist/big-mac-data)\n    -   Source: The Economist\n    -   Data includes: Raw and GDP-adjusted indices\n    -   Big Mac prices from: McDonald's directly and reporting worldwide\n    -   Exchange rates from: Refinitiv Datastream (July 2022 onwards)\n    -   GDP data from: IMF World Economic Outlook reports\n    -   Citation: The Economist. (2025). *Big Mac Index Data*. Retrieved from https://github.com/TheEconomist/big-mac-data\n\n**Methodology References:**\n\n4.  The Economist's Big Mac Index Methodology: [README Documentation](https://github.com/TheEconomist/big-mac-data?tab=readme-ov-file)\n    -   Explains raw vs GDP-adjusted calculations\n    -   Details data sources and collection methods\n    -   Last updated: July 2022 methodology revision\n\n**Note:** This visualization uses the **raw index** (not GDP-adjusted) to show changes in actual purchasing power of Big Macs across currencies from 2000 to 2025.\n:::\n\n#### [11. Custom Functions Documentation]{.smallcaps}\n\n::: {.callout-note collapse=\"true\"}\n##### ðŸ“¦ Custom Helper Functions\n\nThis analysis uses custom functions from my personal module library for efficiency and consistency across projects.\n\n**Functions Used:**\n\n-   **`fonts.R`**: `setup_fonts()`, `get_font_families()` - Font management with showtext\n-   **`social_icons.R`**: `create_social_caption()` - Generates formatted social media captions\n-   **`image_utils.R`**: `save_plot()` - Consistent plot saving with naming conventions\n-   **`base_theme.R`**: `create_base_theme()`, `extend_weekly_theme()`, `get_theme_colors()` - Custom ggplot2 themes\n\n**Why custom functions?**\\\nThese utilities standardize theming, fonts, and output across all my data visualizations. The core analysis (data tidying and visualization logic) uses only standard tidyverse packages.\n\n**Source Code:**\\\nView all custom functions â†’ [GitHub: R/utils](https://github.com/poncest/personal-website/tree/master/R)\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}