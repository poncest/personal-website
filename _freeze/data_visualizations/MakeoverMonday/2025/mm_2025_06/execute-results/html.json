{
  "hash": "2690ef23af0c7157096332e157f79283",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Britain's Power Mix: A Daily Energy Snapshot\"\nsubtitle: \"Tracking Great Britain's electricity demand and generation sources across the National Grid | Data from National Grid: Live\"\ndescription: \"Analysis of Britain's electricity network through small multiples visualization, showing daily patterns in energy demand, generation sources, and transfers. The visualization explores the interplay between different power sources across the National Grid from April 2024 to January 2025.\"\nauthor: \"Steven Ponce\"\ndate: \"2025-02-02\" \ncategories: [\"MakeoverMonday\", \"Data Visualization\", \"R Programming\", \"2025\"]   \ntags: [\n  \"ggplot2\",\n  \"tidyverse\",\n  \"energy-data\",\n  \"time-series\",\n  \"small-multiples\",\n  \"national-grid\",\n  \"electricity\",\n  \"britain\",\n  \"power-generation\",\n  \"renewable-energy\",\n  \"fossil-fuels\",\n  \"data-journalism\",\n  \"energy-analytics\"\n]\nimage: \"thumbnails/mm_2025_06.png\"\nformat:\n  html:\n    toc: true\n    toc-depth: 5\n    code-link: true\n    code-fold: true\n    code-tools: true\n    code-summary: \"Show code\"\n    self-contained: true\n    theme: \n      light: [flatly, assets/styling/custom_styles.scss]\n      dark: [darkly, assets/styling/custom_styles_dark.scss]\neditor_options: \n  chunk_output_type: inline\nexecute: \n  freeze: true                                                  \n  cache: true                                                   \n  error: false\n  message: false\n  warning: false\n  eval: true\nfilters:\n  - social-share\nshare:                     \n  permalink: \"https://stevenponce.netlify.app/data_visualizations/MakeoverMonday/2025/mm_2025_06.html\"\n  description: \"Exploring Britain's daily energy patterns: A visualization of power demand, renewable and fossil fuel generation, and grid transfers across the National Grid system #DataViz #MakeoverMonday #EnergyData\"\n  twitter: true\n  linkedin: true\n  email: true\n  facebook: false\n  reddit: false\n  stumble: false\n  tumblr: false\n  mastodon: true\n  bsky: true\n---\n\n\n\n### Original\n\nThe original visualization comes from the National Grid: Live (The National Grid is the electric power transmission network for Great Britain). \n\n![Original visualization](https://raw.githubusercontent.com/poncest/MakeoverMonday/master/2025/Week_06/original_chart.png)\n`\nSource: [Elexon Insights Solution, National Grid ESOâ€™s Data Portal, and the Carbon Intensity API](https://grid.iamkate.com/)\n\n### Makeover\n\n![Small multiples line chart showing Britain's energy metrics from Jan 2024 to Jan 2025. Five panels display Energy (GW) trends for Demand, Transfers, Fossil Fuels, Renewables, and Other Sources. Demand shows the highest values around 30-40 GW with seasonal variation, while other metrics fluctuate between 0-20 GW. Each panel includes historical context with grey reference lines.](mm_2025_06.png){#fig-1}\n\n### <mark> **Steps to Create this Graphic** </mark>\n\n#### 1. Load Packages & Setup\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## 1. LOAD PACKAGES & SETUP ----\nsuppressPackageStartupMessages({\npacman::p_load(\ntidyverse,      # Easily Install and Load the 'Tidyverse'\n   tidyverse,      # Easily Install and Load the 'Tidyverse'\n    ggtext,         # Improved Text Rendering Support for 'ggplot2'\n    showtext,       # Using Fonts More Easily in R Graphs\n    janitor,        # Simple Tools for Examining and Cleaning Dirty Data\n    skimr,          # Compact and Flexible Summaries of Data\n    scales,         # Scale Functions for Visualization\n    glue,           # Interpreted String Literals\n    here,           # A Simpler Way to Find Your Files\n    lubridate,      # Make Dealing with Dates a Little Easier\n    camcorder,      # Record Your Plot History \n    patchwork,      # The Composer of Plots\n    gghighlight     # Highlight Lines and Points in 'ggplot2'\n)\n})\n\n### |- figure size ----\ngg_record(\n    dir    = here::here(\"temp_plots\"),\n    device = \"png\",\n    width  =  8,\n    height =  8,\n    units  = \"in\",\n    dpi    = 320\n)\n\n# Source utility functions\nsuppressMessages(source(here::here(\"R/utils/fonts.R\")))\nsource(here::here(\"R/utils/social_icons.R\"))\nsource(here::here(\"R/utils/image_utils.R\"))\nsource(here::here(\"R/themes/base_theme.R\"))\n```\n:::\n\n\n\n#### 2. Read in the Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nenergy_raw <- read_csv(\n  here::here('data/National_Grid_Energy_Breakdown.csv')) |> \n  clean_names()\n```\n:::\n\n\n\n#### 3. Examine the Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(energy_raw)\nskim(energy_raw)\n```\n:::\n\n\n\n#### 4. Tidy Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n### |-  tidy data ----\nenergy_clean <- energy_raw |> \n  rename_with(~str_remove(., pattern = \"_gw\"), everything()) |> \n  mutate(date = dmy(date)) |> \n  # Pivot longer\n  pivot_longer(\n    cols = !date,\n    names_to = \"metric\",\n    values_to = \"demand_gw\"\n  ) |> \n  mutate(\n    metric = case_when(\n      metric == \"fossil_fuels\" ~ \"fossil fuels\",\n      metric == \"other_sources\" ~ \"other sources\",\n      TRUE ~ metric\n    ),\n    metric = str_to_title(metric),\n    metric = factor(metric,\n                    levels = c(\"Demand\", \n                               \"Transfers\", \n                               \"Fossil Fuels\", \n                               \"Renewables\", \n                               \"Other Sources\")\n    )\n  ) \n```\n:::\n\n\n\n#### 5. Visualization Parameters\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n### |-  plot aesthetics ----\n# Get base colors with custom palette\ncolors <- get_theme_colors(palette = c(\"#4B79B7\", \"#F8F9FA\", \"#2C3E50\", \"#34495E\", \"#7F8C8D\"))\n\n### |-  titles and caption ----\ntitle_text <- str_glue(\"Britain's Power Mix: A Daily Energy Snapshot\")\nsubtitle_text <- str_glue(\"Tracking Great Britain's electricity demand and generation sources across<br>\n                          the National Grid | Data from National Grid: Live\")\n\n# Create caption\ncaption_text <- create_mm_caption(\n    mm_year = 2025,\n    mm_week = 06,\n    source_text = \"Great Britain National Grid: Live\"\n)\n\n### |-  fonts ----\nsetup_fonts()\nfonts <- get_font_families()\n\n### |-  plot theme ----\n\n# Start with base theme\nbase_theme <- create_base_theme(colors)\n\n# Add weekly-specific theme elements\nweekly_theme <- extend_weekly_theme(\n  base_theme,\n  theme(\n    # Weekly-specific modifications\n    axis.line.x           = element_line(color = \"#252525\", linewidth = .2),\n    \n    panel.spacing.x       = unit(2, 'lines'),\n    panel.spacing.y       = unit(1, 'lines'),\n    panel.grid.major.x    = element_blank(),\n    panel.grid.major.y    = element_line(color = alpha(colors[5], 0.2), linewidth = 0.2),\n    panel.grid.minor      = element_blank(),\n    \n    strip.text          = element_textbox(\n      size              = rel(0.9),\n      face              = 'bold',\n      color             = colors$palette[3],\n      fill              = alpha(colors$palette[1], 0.1),\n      box.color         = alpha(colors[1], 0.5),\n      halign            = 0.5,\n      linetype          = 1,\n      r                 = unit(3, \"pt\"),\n      width             = unit(1, \"npc\"),\n      padding           = margin(5, 10, 5, 10),\n      margin            = margin(b = 10)\n    ),\n  )\n)\n\n# Set theme\ntheme_set(weekly_theme)\n```\n:::\n\n\n\n#### 6. Plot\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n### |-  Plot  ----\np <- ggplot(energy_clean,\n       aes(x = date, y = demand_gw, group = metric)) +\n  # Geoms\n  geom_line(linewidth = 0.3, alpha = 0.2) +\n  gghighlight(\n    use_direct_label = FALSE,\n    unhighlighted_params = list(\n      linewidth = 0.3,\n      alpha = 0.45,\n      color = 'gray20'\n    )\n  ) +\n  geom_line(color = colors$palette[1], linewidth = 1.2) +\n  \n  # Scales\n  scale_x_date(\n    breaks = \"3 month\",               \n    labels = label_date_short(),\n    limits = c(min(energy_clean$date), max(energy_clean$date))  \n  ) +\n  scale_y_continuous(breaks = pretty_breaks()) +\n  coord_cartesian(clip = 'off') +\n  \n  # Labs\n  labs(\n    x = NULL,\n    y = \"Energy (GW)\",\n    title = title_text,\n    subtitle = subtitle_text,\n    caption = caption_text,\n  ) +\n  \n  # Facet\n  facet_wrap(~metric, ncol = 2) +\n  \n  # Theme\n  theme(\n    plot.title = element_text(\n      size   = rel(2),\n      family = fonts$title,\n      face   = \"bold\",\n      color  = colors$title,\n      lineheight = 1.1,\n      margin = margin(t = 5, b = 5)\n    ),\n    plot.subtitle = element_markdown(\n      size   = rel(0.95),\n      family = fonts$subtitle,\n      color  = colors$subtitle,\n      lineheight = 1.2,\n      margin = margin(t = 5, b = 15)\n    ),\n    plot.caption = element_markdown(\n      size   = rel(0.6),\n      family = fonts$caption,\n      color  = colors$caption,\n      hjust  = 0.5,\n      margin = margin(t = 10)\n    )\n  )\n```\n:::\n\n\n\n#### 7. Save\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n### |-  plot image ----  \nsave_plot(\n  p, \n  type = \"makeovermonday\", \n  year = 2025,\n  week = 06,\n  width = 8, \n  height = 8\n  )\n```\n:::\n\n\n\n#### 8. Session Info\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for Session Info\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.4.1 (2024-06-14 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 11 x64 (build 22631)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=English_United States.utf8 \n[2] LC_CTYPE=English_United States.utf8   \n[3] LC_MONETARY=English_United States.utf8\n[4] LC_NUMERIC=C                          \n[5] LC_TIME=English_United States.utf8    \n\ntime zone: America/New_York\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nother attached packages:\n [1] gghighlight_0.4.1 patchwork_1.3.0   camcorder_0.1.0   here_1.0.1       \n [5] glue_1.8.0        scales_1.3.0      skimr_2.1.5       janitor_2.2.0    \n [9] showtext_0.9-7    showtextdb_3.0    sysfonts_0.8.9    ggtext_0.1.2     \n[13] lubridate_1.9.3   forcats_1.0.0     stringr_1.5.1     dplyr_1.1.4      \n[17] purrr_1.0.2       readr_2.1.5       tidyr_1.3.1       tibble_3.2.1     \n[21] ggplot2_3.5.1     tidyverse_2.0.0  \n\nloaded via a namespace (and not attached):\n [1] gtable_0.3.6      xfun_0.49         htmlwidgets_1.6.4 tzdb_0.4.0       \n [5] vctrs_0.6.5       tools_4.4.0       generics_0.1.3    curl_6.0.0       \n [9] parallel_4.4.0    gifski_1.32.0-1   fansi_1.0.6       pacman_0.5.1     \n[13] pkgconfig_2.0.3   lifecycle_1.0.4   compiler_4.4.0    farver_2.1.2     \n[17] textshaping_0.4.0 munsell_0.5.1     repr_1.1.7        codetools_0.2-20 \n[21] snakecase_0.11.1  htmltools_0.5.8.1 yaml_2.3.10       crayon_1.5.3     \n[25] pillar_1.9.0      magick_2.8.5      commonmark_1.9.2  tidyselect_1.2.1 \n[29] digest_0.6.37     stringi_1.8.4     rsvg_2.6.1        rprojroot_2.0.4  \n[33] fastmap_1.2.0     grid_4.4.0        colorspace_2.1-1  cli_3.6.3        \n[37] magrittr_2.0.3    base64enc_0.1-3   utf8_1.2.4        withr_3.0.2      \n[41] bit64_4.5.2       timechange_0.3.0  rmarkdown_2.29    bit_4.5.0        \n[45] ragg_1.3.3        hms_1.1.3         evaluate_1.0.1    knitr_1.49       \n[49] markdown_1.13     rlang_1.1.4       gridtext_0.1.5    Rcpp_1.0.13-1    \n[53] xml2_1.3.6        renv_1.0.3        vroom_1.6.5       svglite_2.1.3    \n[57] rstudioapi_0.17.1 jsonlite_1.8.9    R6_2.5.1          systemfonts_1.1.0\n```\n\n\n:::\n:::\n\n\n:::\n\n#### 9. GitHub Repository\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for GitHub Repo\n\nThe complete code for this analysis is available in [`mm_2025_06.qmd`](https://github.com/poncest/personal-website/blob/master/data_visualizations/MakeoverMonday/2025/mm_2025_06.qmd).\n\nFor the full repository, [click here](https://github.com/poncest/personal-website/).\n:::\n\n\n#### 10. References\n::: {.callout-tip collapse=\"true\"}\n##### Expand for References\n\n1. Article:\n   - National Grid - Live: [The National Grid is the electric power transmission network for Great Britain](https://grid.iamkate.com/)\n\n\n2. Data:\n- Makeover Monday 2025 Week 06: [National Grid: Live](https://data.world/makeovermonday/2025w6-britains-national-grid-energy-sources)\n \n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}