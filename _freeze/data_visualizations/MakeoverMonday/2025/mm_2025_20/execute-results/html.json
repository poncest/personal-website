{
  "hash": "877a0f0ad45560a78bd79ee827c7a422",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Religious Representation Gap: Migrants vs. General Population\"\nsubtitle: \"Christians are significantly overrepresented among global migrants, while Hindus and the religiously unaffiliated are underrepresented\"\ndescription: \"A visualization remake of Pew Research Center data exploring how religious groups are represented differently among migrants versus the general global population. This diverging bar chart highlights that Christians, Muslims, and Jews make up higher shares of migrants than of the general population, while Hindus and the religiously unaffiliated are notably underrepresented among migrants.\"\nauthor: \"Steven Ponce\"\ndate: \"2025-05-14\" \ncategories: [\"MakeoverMonday\", \"Data Visualization\", \"R Programming\", \"2025\"]   \ntags: [\n\"religious representation\", \"migration\", \"demographics\", \"diverging bar chart\", \"Pew Research\", \"data journalism\", \"religious diversity\", \"global migration\", \"ggplot2\", \"data storytelling\", \"population studies\"\n]\nimage: \"thumbnails/mm_2025_20.png\"\nformat:\n  html:\n    toc: true\n    toc-depth: 5\n    code-link: true\n    code-fold: true\n    code-tools: true\n    code-summary: \"Show code\"\n    self-contained: true\n    theme: \n      light: [flatly, assets/styling/custom_styles.scss]\n      dark: [darkly, assets/styling/custom_styles_dark.scss]\neditor_options: \n  chunk_output_type: inline\nexecute: \n  freeze: true                                                  \n  cache: true                                                   \n  error: false\n  message: false\n  warning: false\n  eval: true\nfilters:\n  - social-share\nshare:                     \n  permalink: \"https://stevenponce.netlify.app/data_visualizations/MakeoverMonday/2025/mm_2025_20.html\"\n  description: \"MakeoverMonday week 20: Which religious groups are overrepresented among global migrants? My #MakeoverMonday visualization shows Christians make up 47% of migrants but only 30% of the general population, while Hindus and the unaffiliated are significantly underrepresented. #DataViz #RStats\"\n  twitter: true\n  linkedin: true\n  email: true\n  facebook: false\n  reddit: false\n  stumble: false\n  tumblr: false\n  mastodon: true\n  bsky: true\n---\n\n\n\n### Original\n\nThe original visualization **Globally, Christians are the lartgest migran group** comes from [The Religious Composition of the World’s Migrants:](https://www.pewresearch.org/religion/2024/08/19/the-religious-composition-of-the-worlds-migrants/)\n\n![Original visualization](https://raw.githubusercontent.com/poncest/MakeoverMonday/master/2025/Week_20/original_chart.png)\n\n### Makeover\n\n![A diverging bar chart showing religious representation gaps between migrants and general population. Christians (+16.6), Muslims (+3.7), and Jewish (+0.9) are overrepresented among migrants (purple bars extending right), while Hindus (-10.2) and religiously unaffiliated (-10) are underrepresented (pink bars extending left). Buddhist representation is nearly equal (-0.1). Horizontal arrows indicate the direction of over- and underrepresentation.](mm_2025_20.png){#fig-1}\n\n### <mark> **Steps to Create this Graphic** </mark>\n\n#### 1. Load Packages & Setup\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: load\n#| warning: false\n#| message: false\n#| results: \"hide\"\n\n## 1. LOAD PACKAGES & SETUP ----\nsuppressPackageStartupMessages({\n  if (!require(\"pacman\")) install.packages(\"pacman\")\n  pacman::p_load(\n    tidyverse,      # Easily Install and Load the 'Tidyverse'\n    ggtext,         # Improved Text Rendering Support for 'ggplot2'\n    showtext,       # Using Fonts More Easily in R Graphs\n    scales,         # Scale Functions for Visualization\n    glue,           # Interpreted String Literals\n    here,           # A Simpler Way to Find Your Files\n    lubridate,      # Make Dealing with Dates a Little Easier\n    paletteer       # Comprehensive Collection of Color Palettes\n  )\n})\n\n### |- figure size ----\ncamcorder::gg_record(\n    dir    = here::here(\"temp_plots\"),\n    device = \"png\",\n    width  =  10,\n    height =  8,\n    units  = \"in\",\n    dpi    = 320\n)\n\n# Source utility functions\nsuppressMessages(source(here::here(\"R/utils/fonts.R\")))\nsource(here::here(\"R/utils/social_icons.R\"))\nsource(here::here(\"R/utils/image_utils.R\"))\nsource(here::here(\"R/themes/base_theme.R\"))\n```\n````\n:::\n\n\n\n#### 2. Read in the Data\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: read\n#| include: true\n#| eval: true\n#| warning: false\n\n## Original Chart\n# The Religious Composition of the World’s Migrants\n# https://data.world/makeovermonday/2025w20-the-religious-composition-of-the-worlds-migrants\n\n## Article\n# Pew Research Center \"The Religious Composition of the World’s Migrants\"\n# https://www.pewresearch.org/religion/2024/08/19/the-religious-composition-of-the-worlds-migrants/\n\nmigrants_raw  <- readxl::read_excel(\n  here::here('data/MakeoverMonday/2025/Incoming and Outgoing Migrant Counts.xlsx'),\n                                   sheet = 1) |> \n  janitor::clean_names()\n```\n````\n:::\n\n\n\n#### 3. Examine the Data\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: examine\n#| include: true\n#| eval: true\n#| results: 'hide'\n#| warning: false\n\nglimpse(migrants_raw)\nskimr::skim(migrants_raw)\n```\n````\n:::\n\n\n\n#### 4. Tidy Data\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: tidy\n#| warning: false\n\n### |-  tidy data ----\n# Extract the global data for 2020 (most recent)\nmigrants_global <- migrants_raw |>\n  filter(direction == \"Incoming\", year == \"2020\", country == \"Global Total\") |>\n  select(religion, migrant_percent = percent)\n\n# Derive general population data from on the chart\ngeneral_pop <- tibble(\n  religion = c(\"Christian\", \"Muslim\", \"Jewish\", \"Buddhist\", \"Unaffiliated\", \"Hindu\", \"Other religions\"),\n  general_percent = c(30, 25, 0.2, 4, 23, 15, 2.8)\n)\n\n# Join the datasets\ncomparison_data <- migrants_global |>\n  filter(religion != \"All\") |>\n  mutate(religion = case_when(\n    religion == \"Jew\" ~ \"Jewish\",\n    religion == \"Religiously unaffiliated\" ~ \"Unaffiliated\",\n    TRUE ~ religion\n  )) |>\n  left_join(general_pop, by = \"religion\") |>\n  filter(!is.na(general_percent)) |>\n  mutate(\n    difference = migrant_percent - general_percent,\n    migrant_percent_display = round(migrant_percent, 1),\n    general_percent_display = round(general_percent, 1)\n  ) |>\n  mutate(\n    religion = fct_reorder(religion, difference),\n    abs_diff = abs(difference),\n    direction = ifelse(difference >= 0, \"overrepresented\", \"underrepresented\"),\n    percent_label = paste0(general_percent_display, \"% → \", migrant_percent_display, \"%\")\n  )\n```\n````\n:::\n\n\n\n#### 5. Visualization Parameters\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: params\n#| include: true\n#| warning: false\n\n### |-  plot aesthetics ----\n# Get base colors with custom palette\ncolors <- get_theme_colors(palette = c(\n  \"overrepresented\" =  \"#6761A8\",\n  \"underrepresented\" = \"#CC3363\"\n))\n  \n### |-  titles and caption ----\ntitle_text <- str_glue(\"Religious Representation Gap: Migrants vs. General Population\")\nsubtitle_text <- str_wrap(\"Christians are significantly overrepresented among global migrants,\\nwhile Hindus and the religiously unaffiliated are underrepresented\",\n                          width = 100)\n\n# Create caption\ncaption_text <- create_mm_caption(\n    mm_year = 2025,\n    mm_week = 20,\n    source_text = \"Pew Research Center\"\n)\n\n### |-  fonts ----\nsetup_fonts()\nfonts <- get_font_families()\n\n### |-  plot theme ----\n\n# Start with base theme\nbase_theme <- create_base_theme(colors)\n\n# Add weekly-specific theme elements\nweekly_theme <- extend_weekly_theme(\n  base_theme,\n  theme(\n\n    # Legend formatting\n    legend.position = \"plot\",\n    legend.title = element_text(face = \"bold\"),\n\n    axis.ticks.y = element_blank(),\n    axis.ticks.x = element_line(color = \"gray\", linewidth = 0.5), \n    axis.ticks.length = unit(0.2, \"cm\"), \n\n    # Axis formatting\n    axis.title.x = element_text(face = \"bold\", size = rel(0.85)),\n    axis.title.y = element_text(face = \"bold\", size = rel(0.85)),\n    axis.text.y = element_text(face = \"bold\", size = rel(0.85)),\n    \n    # Grid lines\n    panel.grid.major.y = element_blank(),\n    panel.grid.minor = element_blank(),\n\n    # Margin\n    plot.margin = margin(20, 20, 20, 20)\n  )\n)\n\n# Set theme\ntheme_set(weekly_theme)\n```\n````\n:::\n\n\n\n#### 6. Plot\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: plot\n#| warning: false\n\n### |-  Initial Plot  ----\np <- comparison_data |>\n  ggplot(aes(x = religion, y = difference, fill = direction)) +\n  # Geoms\n  geom_col(width = 0.7) +\n  geom_hline(yintercept = 0, color = \"gray40\", size = 0.5) +\n  geom_text( # primary labels: difference in percentage points\n    aes(\n      label = paste0(ifelse(difference >= 0, \"+\", \"\"), round(difference, 1), \" pts\"),\n      y = ifelse(difference >= 0,\n        difference + 0.8,\n        difference - 0.8\n      )\n    ),\n    hjust = ifelse(comparison_data$difference >= 0, 0, 1),\n    size = 4,\n    fontface = \"bold\"\n  ) +\n  geom_text( # secondary labels: comparison of percentages\n    aes(\n      label = percent_label,\n      y = ifelse(difference >= 0,\n        difference + 5.5,\n        difference - 5.5\n      )\n    ),\n    hjust = ifelse(comparison_data$difference >= 0, 0, 1),\n    size = 3.5,\n    color = \"gray30\"\n  ) +\n  # Scale\n  scale_fill_manual(\n    values = colors$palette\n  ) +\n  scale_y_continuous(\n    breaks = seq(-25, 30, 10),\n    limits = c(-25, 30),\n    expand = c(0, 0)\n  ) +\n  coord_flip(clip = \"off\") +\n  # Labs\n  labs(\n    title = title_text,\n    subtitle = subtitle_text,\n    caption = caption_text,\n    x = NULL,\n    y = \"Percentage Point Difference\",\n    fill = NULL\n  ) +\n  # Theme\n  theme(\n    plot.title = element_text(\n      size = rel(1.8),\n      family = fonts$title,\n      face = \"bold\",\n      color = colors$title,\n      lineheight = 1.1,\n      margin = margin(t = 5, b = 10)\n    ),\n    plot.subtitle = element_text(\n      size = rel(0.9),\n      family = fonts$subtitle,\n      color = colors$subtitle,\n      lineheight = 1.2,\n      margin = margin(t = 5, b = 30)\n    ),\n    plot.caption = element_markdown(\n      size = rel(0.6),\n      family = fonts$caption,\n      color = colors$caption,\n      hjust = 0.5,\n      margin = margin(t = 10)\n    )\n  )\n\n### |-  Annotated Plot  ----\np <- p +\n  annotate(\n    \"label\",\n    x = 5.2,\n    y = -24.5,\n    label = paste(\n      \"Christians make up 30% of the general population but\",\n      \"46.6% of migrants, a difference of +16.6 percentage points.\",\n      \"This pattern may reflect historical migration flows and\",\n      \"religious persecution.\",\n      sep = \"\\n\"\n    ),\n    hjust = 0,\n    vjust = 0,\n    fill = NA,\n    color = \"gray20\",\n    size = 3.5,\n    fontface = \"italic\",\n    alpha = 0.9,\n    label.size = NA\n  ) +\n  annotate(\"segment\",\n    x = 3.5, xend = 3.5,\n    y = 5, yend = 8,\n    arrow = arrow(length = unit(0.3, \"cm\"), type = \"closed\"),\n    color = colors$palette[\"overrepresented\"],\n    size = 1\n  ) +\n  annotate(\"text\",\n    x = 3.5, y = 15,\n    label = \"Overrepresented\",\n    color = colors$palette[\"overrepresented\"],\n    fontface = \"bold\",\n    size = 4,\n    hjust = 0.5\n  ) +\n  annotate(\"segment\",\n    x = 3.5, xend = 3.5,\n    y = -5, yend = -8,\n    arrow = arrow(length = unit(0.3, \"cm\"), type = \"closed\"),\n    color = colors$palette[\"underrepresented\"],\n    size = 1\n  ) +\n  annotate(\"text\",\n    x = 3.5, y = -15,\n    label = \"Underrepresented\",\n    color = colors$palette[\"underrepresented\"],\n    fontface = \"bold\",\n    size = 4,\n    hjust = 0.5\n  )\n```\n````\n:::\n\n\n\n#### 7. Save\n\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: save\n#| warning: false\n\n### |-  plot image ----  \nsave_plot(\n  p, \n  type = \"makeovermonday\", \n  year = 2025,\n  week = 20,\n  width = 10, \n  height = 8\n  )\n```\n````\n:::\n\n\n\n#### 8. Session Info\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for Session Info\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.4.1 (2024-06-14 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 11 x64 (build 22631)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=English_United States.utf8 \n[2] LC_CTYPE=English_United States.utf8   \n[3] LC_MONETARY=English_United States.utf8\n[4] LC_NUMERIC=C                          \n[5] LC_TIME=English_United States.utf8    \n\ntime zone: America/New_York\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nother attached packages:\n [1] paletteer_1.6.0 here_1.0.1      glue_1.8.0      scales_1.3.0   \n [5] showtext_0.9-7  showtextdb_3.0  sysfonts_0.8.9  ggtext_0.1.2   \n [9] lubridate_1.9.3 forcats_1.0.0   stringr_1.5.1   dplyr_1.1.4    \n[13] purrr_1.0.2     readr_2.1.5     tidyr_1.3.1     tibble_3.2.1   \n[17] ggplot2_3.5.1   tidyverse_2.0.0 pacman_0.5.1   \n\nloaded via a namespace (and not attached):\n [1] gtable_0.3.6      xfun_0.49         htmlwidgets_1.6.4 tzdb_0.5.0       \n [5] vctrs_0.6.5       tools_4.4.0       generics_0.1.3    curl_6.0.0       \n [9] gifski_1.32.0-1   fansi_1.0.6       pkgconfig_2.0.3   skimr_2.1.5      \n[13] readxl_1.4.3      lifecycle_1.0.4   farver_2.1.2      compiler_4.4.0   \n[17] textshaping_0.4.0 munsell_0.5.1     janitor_2.2.0     repr_1.1.7       \n[21] codetools_0.2-20  snakecase_0.11.1  htmltools_0.5.8.1 yaml_2.3.10      \n[25] pillar_1.9.0      camcorder_0.1.0   magick_2.8.5      commonmark_1.9.2 \n[29] tidyselect_1.2.1  digest_0.6.37     stringi_1.8.4     rematch2_2.1.2   \n[33] rsvg_2.6.1        rprojroot_2.0.4   fastmap_1.2.0     grid_4.4.0       \n[37] colorspace_2.1-1  cli_3.6.4         magrittr_2.0.3    base64enc_0.1-3  \n[41] utf8_1.2.4        withr_3.0.2       timechange_0.3.0  rmarkdown_2.29   \n[45] cellranger_1.1.0  ragg_1.3.3        hms_1.1.3         evaluate_1.0.1   \n[49] knitr_1.49        markdown_1.13     rlang_1.1.6       gridtext_0.1.5   \n[53] Rcpp_1.0.13-1     xml2_1.3.6        renv_1.0.3        svglite_2.1.3    \n[57] rstudioapi_0.17.1 jsonlite_1.8.9    R6_2.5.1          systemfonts_1.1.0\n```\n\n\n:::\n:::\n\n\n:::\n\n#### 9. GitHub Repository\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for GitHub Repo\n\nThe complete code for this analysis is available in [`mm_2025_20.qmd`](https://github.com/poncest/personal-website/blob/master/data_visualizations/MakeoverMonday/2025/mm_2025_20.qmd).\n\nFor the full repository, [click here](https://github.com/poncest/personal-website/).\n:::\n\n#### 10. References\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for References\n\n1.  Data:\n\n-   Makeover Monday 2025 Week 20: [The Religious Composition of the World’s Migrants](https://data.world/makeovermonday/2025w20-the-religious-composition-of-the-worlds-migrants)\n\n2.  Article\n \n-   Pew Research Center: [The Religious Composition of the World’s Migrants](https://www.pewresearch.org/religion/2024/08/19/the-religious-composition-of-the-worlds-migrants/)\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}