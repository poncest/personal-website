{
  "hash": "fcb102c7c40a9bf49432ffb501ed732e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Diversity in Federal Judicial Appointments Has Increased Over Time\"\nsubtitle: \"Number of appointments by gender across racial groups, 1960-present (note: different scales)\"\ndescription: \"Visualization showing the growth of diversity in federal judicial appointments from 1960-present. Analysis reveals significant increases in female representation across all racial groups, demonstrating progress toward a more diverse federal judiciary.\"\nauthor: \"Steven Ponce\"\ndate: \"2025-06-03\" \ncategories: [\"TidyTuesday\", \"Data Visualization\", \"R Programming\", \"2025\"]\ntags: [\n  \"federal-judiciary\",\n  \"judicial-appointments\", \n  \"diversity-analysis\",\n  \"gender-representation\",\n  \"racial-diversity\",\n  \"data-storytelling\",\n  \"ggplot2\",\n  \"faceted-visualization\",\n  \"government-data\",\n  \"civil-rights\",\n  \"historical-trends\",\n  \"bar-charts\"\n]\nimage: \"thumbnails/tt_2025_23.png\"\nformat:\n  html:\n    toc: true\n    toc-depth: 5\n    code-link: true\n    code-fold: true\n    code-tools: true\n    code-summary: \"Show code\"\n    self-contained: true\n    theme: \n      light: [flatly, assets/styling/custom_styles.scss]\n      dark: [darkly, assets/styling/custom_styles_dark.scss]\neditor_options: \n  chunk_output_type: inline\nexecute: \n  freeze: true                                                  \n  cache: true                                                   \n  error: false\n  message: false\n  warning: false\n  eval: true\n---\n\n![Stacked bar chart showing federal judicial appointments 1960-present by race and gender. Demonstrates significant increases in both racial diversity and female representation across all groups, with White appointments showing the largest absolute numbers but all groups showing growing gender diversity over time.](tt_2025_23.png){#fig-1}\n\n### <mark> **Steps to Create this Graphic** </mark>\n\n#### 1. Load Packages & Setup\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: load\n#| warning: false\n#| message: false\n#| results: \"hide\"\n\n## 1. LOAD PACKAGES & SETUP ----\nsuppressPackageStartupMessages({\nif (!require(\"pacman\")) install.packages(\"pacman\")\npacman::p_load(\n  tidyverse,     # Easily Install and Load the 'Tidyverse'\n  ggtext,        # Improved Text Rendering Support for 'ggplot2'\n  showtext,      # Using Fonts More Easily in R Graphs\n  janitor,       # Simple Tools for Examining and Cleaning Dirty Data\n  scales,        # Scale Functions for Visualization\n  glue           # Interpreted String Literals\n  )})\n\n### |- figure size ----\ncamcorder::gg_record(\n  dir    = here::here(\"temp_plots\"),\n  device = \"png\",\n  width  =  8,\n  height =  8,\n  units  = \"in\",\n  dpi    = 320\n)\n\n# Source utility functions\nsuppressMessages(source(here::here(\"R/utils/fonts.R\")))\nsource(here::here(\"R/utils/social_icons.R\"))\nsource(here::here(\"R/utils/image_utils.R\"))\nsource(here::here(\"R/themes/base_theme.R\"))\n```\n````\n:::\n\n\n#### 2. Read in the Data\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: read\n#| include: true\n#| eval: true\n#| warning: false\n\ntt <- tidytuesdayR::tt_load(2025, week = 23)\n\nappointments_raw <- tt$judges_appointments |> clean_names()\npeople_raw <- tt$judges_people |> clean_names()\n\ntidytuesdayR::readme(tt)\nrm(tt)\n```\n````\n:::\n\n\n#### 3. Examine the Data\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: examine\n#| include: true\n#| eval: true\n#| results: 'hide'\n#| warning: false\n\nglimpse(appointments_raw)\nskimr::skim(appointments_raw)\n\nglimpse(people_raw)\nskimr::skim(people_raw)\n```\n````\n:::\n\n\n#### 4. Tidy Data\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: tidy\n#| warning: false\n\n### |-  tidy data ----\n# Joining the datasets first\njudges_data <- appointments_raw |>\n  left_join(people_raw, by = \"judge_id\") |>\n  mutate(\n    nomination_date = mdy(nomination_date),\n    commission_date = mdy(commission_date),\n    senate_confirmation_date = mdy(senate_confirmation_date),\n    nomination_year = year(nomination_date)\n  )\n\n# Prepare the data\nplot_data <- judges_data |>\n  filter(\n    !is.na(nomination_year), !is.na(gender), !is.na(race),\n    nomination_year >= 1960\n  ) |>\n  mutate(\n    race_simplified = case_when(\n      str_detect(race, \"White\") ~ \"White\",\n      str_detect(race, \"Black|African\") ~ \"Black\",\n      str_detect(race, \"Hispanic|Latino\") ~ \"Hispanic\",\n      str_detect(race, \"Asian\") ~ \"Asian\",\n      TRUE ~ \"Other\"\n    ),\n    decade = floor(nomination_year / 10) * 10\n  ) |>\n  count(decade, gender, race_simplified) |>\n  group_by(decade, race_simplified) |>\n  mutate(\n    total = sum(n),\n    female_count = ifelse(gender == \"F\", n, 0),\n    female_label_y = ifelse(gender == \"F\", total - n / 2, NA),\n    race_simplified = factor(race_simplified, \n                             levels = c(\"White\", \"Black\", \"Asian\", \"Hispanic\", \"Other\"))\n  ) |>\n  ungroup()\n```\n````\n:::\n\n\n#### 5. Visualization Parameters\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: params\n#| include: true\n#| warning: false\n\n### |-  plot aesthetics ----\ncolors <- get_theme_colors(\n    palette = c(\"F\" = \"#8E44AD\", \"M\" = \"#2C3E50\")\n)\n\n### |-  titles and caption ----\ntitle_text <- str_glue(\"Diversity in Federal Judicial Appointments Has Increased Over Time\")\n\nsubtitle_text <- str_glue(\"Number of appointments by gender across racial groups, 1960-present (note: different scales)\")\n\ncaption_text <- create_social_caption(\n  tt_year = 2025,\n  tt_week = 23,\n  source_text =  \"Web site of the Federal Judicial Center, via the historydata R package\"\n)\n\n### |-  fonts ----\nsetup_fonts()\nfonts <- get_font_families()\n\n### |-  plot theme ----\n\n# Start with base theme\nbase_theme <- create_base_theme(colors)\n\n# Add weekly-specific theme elements\nweekly_theme <- extend_weekly_theme(\n  base_theme,\n  theme(\n    # Axis elements\n    axis.text = element_text(color = colors$text, size = rel(0.7)),\n    axis.title.x = element_text(color = colors$text, face = \"bold\", size = rel(0.8), margin = margin(t = 15)),\n    axis.title.y = element_text(color = colors$text, face = \"bold\", size = rel(0.8), margin = margin(r = 10)),\n    \n    # Grid elements\n    panel.grid.major.y = element_line(color = 'gray50', linewidth = 0.05),\n    panel.grid.minor = element_blank(), \n    panel.grid.major.x = element_blank(),\n\n    # Legend elements\n    # legend.position = \"plot\",\n    legend.title = element_text(family = fonts$tsubtitle, color = colors$text, size = rel(0.8), face = \"bold\"),\n    legend.text = element_text(family = fonts$tsubtitle, color = colors$text, size = rel(0.7)),\n\n    # Plot margins\n    plot.margin = margin(t = 15, r = 15, b = 15, l = 15),\n  )\n)\n\n# Set theme\ntheme_set(weekly_theme)\n```\n````\n:::\n\n\n#### 6. Plot\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: plot\n#| warning: false\n\n# Final plot -----\np <- plot_data |>\n  ggplot(aes(x = decade, y = n, fill = gender)) +\n  # Geoms\n  geom_bar(stat = \"identity\", position = \"stack\", alpha = 0.85) +\n  geom_text(aes(y = total + (total * 0.08), label = total),\n    position = position_identity(),\n    size = 3.2,\n    color = \"black\",\n    fontface = \"bold\",\n    family = \"Arial\",\n    data = plot_data |> filter(gender == \"F\", total > 3)\n  ) +\n  geom_text(aes(y = female_label_y, label = female_count),\n    position = position_identity(),\n    size = 3,\n    color = \"white\", \n    fontface = \"bold\",\n    family = \"Arial\",\n    data = plot_data |> filter(gender == \"F\", female_count > 3)\n  ) +\n    \n  # Scales\n  scale_fill_manual(\n    values = colors$palette,\n    labels = c(\"F\" = \"Female\", \"M\" = \"Male\")\n  ) +\n  scale_x_continuous(\n    breaks = seq(1960, 2020, 20),\n    labels = c(\"1960s\", \"1980s\", \"2000s\", \"2020+\")\n  ) +\n  # Labs\n  labs(\n    title = title_text,\n    subtitle = subtitle_text,\n    caption = caption_text,\n    x = \"Decade\",\n    y = \"\",\n    fill = \"Gender\",\n  ) +\n  # Facets\n  facet_wrap(~race_simplified, scales = \"free_y\", ncol = 3) +\n  # Theme\n  theme(\n    plot.title = element_text(\n      size = rel(1.4),\n      family = fonts$title,\n      face = \"bold\",\n      color = colors$title,\n      lineheight = 1.1,\n      margin = margin(t = 5, b = 10)\n    ),\n    plot.subtitle = element_text(\n      size = rel(0.75),\n      family = fonts$subtitle,\n      color = alpha(colors$subtitle, 0.9),\n      lineheight = 1.2,\n      margin = margin(t = 5, b = 20)\n    ),\n    plot.caption = element_markdown(\n      size = rel(0.55),\n      family = fonts$caption,\n      color = colors$caption,\n      hjust = 0.5,\n      margin = margin(t = 10)\n    ),\n    strip.text = element_text(size = rel(0.78), face = \"bold\"),\n    panel.spacing = unit(1.1, \"lines\"),\n\n    # Legend\n    legend.position = \"inside\",\n    legend.position.inside = c(0.82, 0.15),\n    legend.title = element_text(face = \"bold\", size = 10),\n    legend.text = element_text(size = 9),\n    legend.background = element_rect(fill = NA, color = \"gray90\", linewidth = 0.5),\n    legend.margin = margin(5, 5, 5, 5),\n  )\n```\n````\n:::\n\n\n#### 7. Save\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: save\n#| warning: false\n\n### |-  plot image ----  \nsave_plot(\n  plot = p, \n  type = \"tidytuesday\", \n  year = 2025, \n  week = 23, \n  width = 8,\n  height = 8\n)\n```\n````\n:::\n\n\n#### 8. Session Info\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for Session Info\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.4.1 (2024-06-14 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 11 x64 (build 22631)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=English_United States.utf8 \n[2] LC_CTYPE=English_United States.utf8   \n[3] LC_MONETARY=English_United States.utf8\n[4] LC_NUMERIC=C                          \n[5] LC_TIME=English_United States.utf8    \n\ntime zone: America/New_York\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nother attached packages:\n [1] here_1.0.1      glue_1.8.0      scales_1.3.0    janitor_2.2.0  \n [5] showtext_0.9-7  showtextdb_3.0  sysfonts_0.8.9  ggtext_0.1.2   \n [9] lubridate_1.9.3 forcats_1.0.0   stringr_1.5.1   dplyr_1.1.4    \n[13] purrr_1.0.2     readr_2.1.5     tidyr_1.3.1     tibble_3.2.1   \n[17] ggplot2_3.5.1   tidyverse_2.0.0 pacman_0.5.1   \n\nloaded via a namespace (and not attached):\n [1] gtable_0.3.6       xfun_0.49          httr2_1.0.6        htmlwidgets_1.6.4 \n [5] gh_1.4.1           tzdb_0.5.0         vctrs_0.6.5        tools_4.4.0       \n [9] generics_0.1.3     parallel_4.4.0     curl_6.0.0         gifski_1.32.0-1   \n[13] fansi_1.0.6        pkgconfig_2.0.3    skimr_2.1.5        lifecycle_1.0.4   \n[17] farver_2.1.2       compiler_4.4.0     textshaping_0.4.0  munsell_0.5.1     \n[21] repr_1.1.7         codetools_0.2-20   snakecase_0.11.1   htmltools_0.5.8.1 \n[25] yaml_2.3.10        crayon_1.5.3       pillar_1.9.0       camcorder_0.1.0   \n[29] magick_2.8.5       commonmark_1.9.2   tidyselect_1.2.1   digest_0.6.37     \n[33] stringi_1.8.4      labeling_0.4.3     rsvg_2.6.1         rprojroot_2.0.4   \n[37] fastmap_1.2.0      grid_4.4.0         colorspace_2.1-1   cli_3.6.4         \n[41] magrittr_2.0.3     base64enc_0.1-3    utf8_1.2.4         withr_3.0.2       \n[45] rappdirs_0.3.3     bit64_4.5.2        timechange_0.3.0   rmarkdown_2.29    \n[49] tidytuesdayR_1.1.2 gitcreds_0.1.2     bit_4.5.0          ragg_1.3.3        \n[53] hms_1.1.3          evaluate_1.0.1     knitr_1.49         markdown_1.13     \n[57] rlang_1.1.6        gridtext_0.1.5     Rcpp_1.0.13-1      xml2_1.3.6        \n[61] renv_1.0.3         vroom_1.6.5        svglite_2.1.3      rstudioapi_0.17.1 \n[65] jsonlite_1.8.9     R6_2.5.1           systemfonts_1.1.0 \n```\n\n\n:::\n:::\n\n:::\n\n#### 9. GitHub Repository\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for GitHub Repo\n\nThe complete code for this analysis is available in [`tt_2025_23.qmd`](https://github.com/poncest/personal-website/blob/master/data_visualizations/TidyTuesday/2025/tt_2025_23.qmd).\n\nFor the full repository, [click here](https://github.com/poncest/personal-website/).\n:::\n\n#### 10. References\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for References\n\n1.  Data Sources:\n\n-   TidyTuesday 2025 Week 23: [U.S. Judges and the historydata R package)](https://github.com/rfordatascience/tidytuesday/blob/main/data/2025/2025-06-10\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}