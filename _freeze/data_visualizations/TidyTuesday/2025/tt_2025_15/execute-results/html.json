{
  "hash": "b88d759945501d0218af7c5705b7b96a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Morphological Separation in Bill Dimensions Across Penguin Species\"\nsubtitle: \"2D density contours with individual observations for the three species\"\ndescription: \"Exploring morphological differences between Adelie, Chinstrap, and Gentoo penguin species through bill dimensions analysis. This visualization demonstrates how bill length and depth measurements create distinct clusters that allow for clear species differentiation in the Palmer Archipelago penguin dataset.\"\nauthor: \"Steven Ponce\"\ndate: \"2025-04-16\" \ncategories: [\"TidyTuesday\", \"Data Visualization\", \"R Programming\", \"2025\"]\ntags: [\n\"ggplot2\", \"palmerpenguins\", \"density contours\", \"morphology\", \"species classification\", \"bivariate analysis\", \"Antarctic wildlife\", \"ornithology\", \"multivariate visualization\", \"ecological data\"\n]\nimage: \"thumbnails/tt_2025_15.png\"\nformat:\n  html:\n    toc: true\n    toc-depth: 5\n    code-link: true\n    code-fold: true\n    code-tools: true\n    code-summary: \"Show code\"\n    self-contained: true\n    theme: \n      light: [flatly, assets/styling/custom_styles.scss]\n      dark: [darkly, assets/styling/custom_styles_dark.scss]\neditor_options: \n  chunk_output_type: inline\nexecute: \n  freeze: true                                                  \n  cache: true                                                   \n  error: false\n  message: false\n  warning: false\n  eval: true\nfilters:\n  - social-share\nshare:\n  permalink: \"https://stevenponce.netlify.app/data_visualizations/TidyTuesday/2025/tt_2025_15.html\"\n  description: \"See how Antarctic penguin species form distinct clusters based solely on bill dimensions. This visualization of the Palmer Penguins dataset reveals clear morphological separation between Adelie, Chinstrap, and Gentoo penguins using density contours and individual observations.\"\n\n  twitter: true\n  linkedin: true\n  email: true\n  facebook: false\n  reddit: false\n  stumble: false\n  tumblr: false\n  mastodon: true\n  bsky: true\n---\n\n\n\n![A scatterplot showing bill dimensions (length vs. depth in mm) for three penguin species with density contours. The plot clearly displays three distinct clusters: Adelie penguins (orange, n=152) with shorter, deeper bills centered around 40mm length; Chinstrap penguins (blue, n=68) with medium-length bills around 49mm and greater depth; and Gentoo penguins (green, n=124) with longer, shallower bills around 48mm length and 15mm depth. Diamond markers indicate species means. ](tt_2025_15.png){#fig-1}\n\n\n### <mark> **Steps to Create this Graphic** </mark>\n\n#### 1. Load Packages & Setup\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## 1. LOAD PACKAGES & SETUP ----\nsuppressPackageStartupMessages({\nif (!require(\"pacman\")) install.packages(\"pacman\")\npacman::p_load(\n    tidyverse,      # Easily Install and Load the 'Tidyverse'\n    ggtext,         # Improved Text Rendering Support for 'ggplot2'\n    showtext,       # Using Fonts More Easily in R Graphs\n    janitor,        # Simple Tools for Examining and Cleaning Dirty Data\n    skimr,          # Compact and Flexible Summaries of Data\n    scales,         # Scale Functions for Visualization\n    glue,           # Interpreted String Literals\n    here,           # A Simpler Way to Find Your Files\n    camcorder       # Record Your Plot History\n    )\n})\n\n### |- figure size ----\ngg_record(\n    dir    = here::here(\"temp_plots\"),\n    device = \"png\",\n    width  =  8,\n    height =  8,\n    units  = \"in\",\n    dpi    = 320\n)\n\n# Source utility functions\nsuppressMessages(source(here::here(\"R/utils/fonts.R\")))\nsource(here::here(\"R/utils/social_icons.R\"))\nsource(here::here(\"R/utils/image_utils.R\"))\nsource(here::here(\"R/themes/base_theme.R\"))\n```\n:::\n\n\n\n#### 2. Read in the Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-04-15/penguins.csv') |>\n    clean_names()\n```\n:::\n\n\n\n#### 3. Examine the Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(penguins)\nskim(penguins)\n```\n:::\n\n\n\n#### 4. Tidy Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n### |-  tidy data ----\nspecies_stats <- penguins |>\n    group_by(species) |>\n    summarize(\n        mean_bill_len = mean(bill_len, na.rm = TRUE),\n        mean_bill_dep = mean(bill_dep, na.rm = TRUE),\n        n = n(),\n        .groups = 'drop'\n    )\n# label positions\nlabel_positions <- data.frame(\n    species = c(\"Adelie\", \"Chinstrap\", \"Gentoo\"),\n    x_pos = c(38.5, 47, 48),  \n    y_pos = c(20.3, 19.5, 14.5),  \n    n = c(152, 68, 124)\n)\n```\n:::\n\n\n\n#### 5. Visualization Parameters\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n### |-  plot aesthetics ----\ncolors <- get_theme_colors(\n    palette = c(\n        \"Adelie\" = \"#FF8C00\",      \n        \"Chinstrap\" = \"#4169E1\",   \n        \"Gentoo\" = \"#2E8B57\"      \n    )\n)\n\n### |-  titles and caption ----\ntitle_text <- str_wrap(\"Morphological Separation in Bill Dimensions Across Penguin Species\",\n                       width = 45)\nsubtitle_text <- str_glue(\"2D density contours with individual observations for the three species\")\n\n# Create caption\ncaption_text <- create_social_caption(\n    tt_year = 2025,\n    tt_week = 15,\n    source_text =  \"{ basepenguins } R package\" \n)\n\n### |-  fonts ----\nsetup_fonts()\nfonts <- get_font_families()\n\n### |-  plot theme ----\n\n# Start with base theme\nbase_theme <- create_base_theme(colors)\n\n# Add weekly-specific theme elements\nweekly_theme <- extend_weekly_theme(\n    base_theme,\n    theme(\n        # Text styling \n        plot.title = element_text(face = \"bold\", family = fonts$title, size = rel(1.14), margin = margin(b = 10)),\n        plot.subtitle = element_text(family = fonts$subtitle, color = colors$text, size = rel(0.78), margin = margin(b = 20)),\n        \n        # Axis elements\n        axis.title = element_text(color = colors$text, face = \"bold\", size = rel(0.8)),\n        axis.text = element_text(color = colors$text, size = rel(0.7)),\n        \n        # Grid elements\n        panel.grid.minor = element_line(color = \"gray50\", linewidth = 0.05),\n        panel.grid.major = element_line(color = \"gray50\", linewidth = 0.02),\n        \n        # Legend elements\n        legend.position = \"plot\",\n        legend.direction = \"horizontal\",\n        legend.title = element_text(family = fonts$text, size = rel(0.8), face = \"bold\"),\n        legend.text = element_text(family = fonts$text, size = rel(0.7)),\n        \n        # two-row legend\n        legend.box.spacing = unit(0.4, \"cm\"),\n        legend.key.width = unit(1.5, \"cm\"),\n        legend.spacing.x = unit(0.2, \"cm\"),\n \n        legend.box = \"horizontal\",\n        legend.box.just = \"left\",\n        \n        # Plot margins \n        plot.margin = margin(t = 20, r = 20, b = 20, l = 20),\n    )\n)\n\n# Set theme\ntheme_set(weekly_theme)\n```\n:::\n\n\n\n#### 6. Plot\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n### |-  Plot  ----\np <- ggplot(penguins, aes(x = bill_len, y = bill_dep, color = species)) +\n    # Geoms\n    geom_point(\n        alpha = 0.12, size = 1.5\n        ) +\n    geom_density_2d(\n        size = 0.8, \n        alpha = 0.9,\n        bins = 6,\n        lineend = \"round\",\n        linejoin = \"round\"\n    ) +\n    geom_point(\n        data = species_stats,\n        aes(x = mean_bill_len, y = mean_bill_dep),\n        size = 4,\n        shape = 18\n    ) +\n    geom_label(\n        data = label_positions,\n        aes(x = x_pos, y = y_pos, \n            label = paste0(species, \"\\nn = \", n),\n            color = species),\n        fill = \"white\",\n        alpha = 0.9,\n        fontface = \"bold\",\n        label.size = 0.2,  \n        label.padding = unit(0.4, \"lines\"),\n        label.r = unit(0.15, \"lines\")  \n    ) +\n    # Scales\n    scale_color_manual(values = colors$palette) +\n    scale_x_continuous(limits = c(30, 62)) +\n    scale_y_continuous(limits = c(13, 21.5)) +\n    # Labs\n    labs(\n        title = title_text,\n        subtitle = subtitle_text,\n        caption = caption_text,\n        x = \"Bill Length (mm)\",\n        y = \"Bill Depth (mm)\"\n        ) +\n    # Theme\n    theme(\n        plot.title = element_text(\n            size = rel(1.85),\n            family = fonts$title,\n            face = \"bold\",\n            color = colors$title,\n            lineheight = 1.1,\n            margin = margin(t = 5, b = 5)\n        ),\n        plot.subtitle = element_text(\n            size = rel(0.95),\n            family = fonts$subtitle,\n            color = alpha(colors$subtitle, 0.9),\n            lineheight = 1.2,\n            margin = margin(t = 5, b = 10)\n        ),\n        plot.caption = element_markdown(\n            size = rel(0.65),\n            family = fonts$caption,\n            color = colors$caption,\n            hjust = 0.5,\n            margin = margin(t = 10)\n        )\n    ) \n```\n:::\n\n\n\n#### 7. Save\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n### |-  plot image ----  \nsave_plot(\n  plot = p, \n  type = \"tidytuesday\", \n  year = 2025, \n  week = 15, \n  width = 8,\n  height = 8\n)\n```\n:::\n\n\n\n#### 8. Session Info\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for Session Info\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.4.1 (2024-06-14 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 11 x64 (build 22631)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=English_United States.utf8 \n[2] LC_CTYPE=English_United States.utf8   \n[3] LC_MONETARY=English_United States.utf8\n[4] LC_NUMERIC=C                          \n[5] LC_TIME=English_United States.utf8    \n\ntime zone: America/New_York\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nother attached packages:\n [1] camcorder_0.1.0 here_1.0.1      glue_1.8.0      scales_1.3.0   \n [5] skimr_2.1.5     janitor_2.2.0   showtext_0.9-7  showtextdb_3.0 \n [9] sysfonts_0.8.9  ggtext_0.1.2    lubridate_1.9.3 forcats_1.0.0  \n[13] stringr_1.5.1   dplyr_1.1.4     purrr_1.0.2     readr_2.1.5    \n[17] tidyr_1.3.1     tibble_3.2.1    ggplot2_3.5.1   tidyverse_2.0.0\n[21] pacman_0.5.1   \n\nloaded via a namespace (and not attached):\n [1] gtable_0.3.6       xfun_0.49          htmlwidgets_1.6.4  tzdb_0.4.0        \n [5] yulab.utils_0.1.8  vctrs_0.6.5        tools_4.4.0        generics_0.1.3    \n [9] curl_6.0.0         parallel_4.4.0     gifski_1.32.0-1    fansi_1.0.6       \n[13] pkgconfig_2.0.3    ggplotify_0.1.2    lifecycle_1.0.4    farver_2.1.2      \n[17] compiler_4.4.0     munsell_0.5.1      repr_1.1.7         codetools_0.2-20  \n[21] snakecase_0.11.1   htmltools_0.5.8.1  yaml_2.3.10        crayon_1.5.3      \n[25] pillar_1.9.0       MASS_7.3-60.2      magick_2.8.5       commonmark_1.9.2  \n[29] tidyselect_1.2.1   digest_0.6.37      stringi_1.8.4      labeling_0.4.3    \n[33] rsvg_2.6.1         rprojroot_2.0.4    fastmap_1.2.0      grid_4.4.0        \n[37] colorspace_2.1-1   cli_3.6.3          magrittr_2.0.3     base64enc_0.1-3   \n[41] utf8_1.2.4         withr_3.0.2        bit64_4.5.2        timechange_0.3.0  \n[45] rmarkdown_2.29     bit_4.5.0          hms_1.1.3          evaluate_1.0.1    \n[49] knitr_1.49         markdown_1.13      gridGraphics_0.5-1 rlang_1.1.4       \n[53] isoband_0.2.7      gridtext_0.1.5     Rcpp_1.0.13-1      xml2_1.3.6        \n[57] renv_1.0.3         svglite_2.1.3      rstudioapi_0.17.1  vroom_1.6.5       \n[61] jsonlite_1.8.9     R6_2.5.1           fs_1.6.5           systemfonts_1.1.0 \n```\n\n\n:::\n:::\n\n\n:::\n\n#### 9. GitHub Repository\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for GitHub Repo\n\nThe complete code for this analysis is available in [`tt_2025_15.qmd`](https://github.com/poncest/personal-website/blob/master/data_visualizations/TidyTuesday/2025/tt_2025_15.qmd).\n\nFor the full repository, [click here](https://github.com/poncest/personal-website/).\n:::\n\n\n#### 10. References\n::: {.callout-tip collapse=\"true\"}\n##### Expand for References\n\n1. Data Sources:\n\n   - TidyTuesday 2025 Week 15: [Base R Penguins](https://github.com/rfordatascience/tidytuesday/blob/main/data/2025/2025-04-01)\n\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}