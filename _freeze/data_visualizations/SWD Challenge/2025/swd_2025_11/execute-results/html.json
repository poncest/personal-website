{
  "hash": "a98796d8b90cc4888597a1ffd176c80d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Pok√©mon Speed by Type\"\nsubtitle: \"Flying types are the fastest, while Fairy types are the slowest\"\ndescription: \"A focused dot plot exploring speed hierarchy across Pok√©mon types, showing median values and ranges for the November 2025 #SWDchallenge\"\nauthor: \"Steven Ponce\"\ndate: \"2025-11-02\" \ncategories: [\"SWDchallenge\", \"Data Visualization\", \"R Programming\", \"2025\"]\ntags: [\n  \"dot plot\",\n  \"categorical comparison\",\n  \"ggplot2\",\n  \"TidyTuesday\",\n  \"Pok√©mon\",\n  \"ranking visualization\",\n  \"data storytelling\"\n]\nimage: \"thumbnails/swd_2025_11.png\"\nformat:\n  html:\n    toc: true\n    toc-depth: 5\n    code-link: true\n    code-fold: true\n    code-tools: true\n    code-summary: \"Show code\"\n    self-contained: true\neditor_options: \n  chunk_output_type: inline\nexecute: \n  freeze: true                                          \n  cache: true                                                   \n  error: false\n  message: false\n  warning: false\n  eval: true\n---\n\n### Challenge\n\nThis month‚Äôs challenge is to create a dot plot‚Äîa simple but powerful visual for comparing values across categories. Whether you build one from scratch or redesign an existing graph, focus on clarity, thoughtful design, and highlighting the key takeaway. \n\nAdditional information can be found [HERE](https://community.storytellingwithdata.com/challenges/nov-2025-discover-the-dot-plot)\n\n### Makeover\n\n![Dot plot showing median speed for 18 Pok√©mon types, ranked from fastest to slowest. Flying types are fastest with a median of 116, while Fairy types are slowest at 49. Gray bars show the full range (min-max) for each type. A dashed vertical line marks the overall median speed of 65.](swd_2025_11.png){#fig-4}\n\n### <mark> **Steps to Create this Graphic** </mark>\n\n#### 1. Load Packages & Setup\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: load\n\nif (!require(\"pacman\")) install.packages(\"pacman\")\npacman::p_load(\n  tidyverse,  # Easily Install and Load the 'Tidyverse'\n  ggtext,     # Improved Text Rendering Support for 'ggplot2'\n  showtext,   # Using Fonts More Easily in R Graphs\n  janitor,    # Simple Tools for Examining and Cleaning Dirty Data\n  scales,     # Scale Functions for Visualization\n  glue        # Interpreted String Literals\n) \n\n### |- figure size ---- \ncamcorder::gg_record(\n  dir    = here::here(\"temp_plots\"),\n  device = \"png\",\n  width  = 8,\n  height = 6,\n  units  = \"in\",\n  dpi    = 320\n)\n\n# Source utility functions\nsuppressMessages(source(here::here(\"R/utils/fonts.R\")))\nsource(here::here(\"R/utils/social_icons.R\"))\nsource(here::here(\"R/utils/image_utils.R\"))\nsource(here::here(\"R/themes/base_theme.R\"))\n```\n````\n:::\n\n\n#### 2. Read in the Data\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: read\n\n# The data comes from TidyTuesday 2025 week 13\npokemon_raw <- readr::read_csv(\n  \"https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-04-01/pokemon_df.csv\"\n) |>\n  clean_names()\n```\n````\n:::\n\n\n#### 3. Examine the Data\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: examine\n#| include: true\n#| eval: true\n#| results: 'hide'\n#| warning: false\n\nglimpse(pokemon_raw)\nskimr::skim(pokemon_raw)\n```\n````\n:::\n\n\n#### 4. Tidy Data\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: tidy\n\npokemon_summary <- pokemon_raw |>\n  select(pokemon, type_1, speed) |>\n  filter(!is.na(speed), !is.na(type_1)) |>\n  group_by(type_1) |>\n  summarize(\n    median_speed = median(speed),\n    min_speed = min(speed),\n    max_speed = max(speed),\n    count = n(),\n    .groups = \"drop\"\n  ) |>\n  arrange(desc(median_speed)) |>\n  mutate(\n    type_1 = fct_reorder(type_1, median_speed),\n    rank = row_number(desc(median_speed)),\n    is_labeled = rank <= 3 | rank > n() - 3,\n    label_position = if_else(rank <= 3, \"right\", \"left\")\n  )\n\noverall_median <- median(pokemon_raw$speed, na.rm = TRUE)\n```\n````\n:::\n\n\n#### 5. Visualization Parameters\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: params\n\n### |-  plot aesthetics ----\ncolors <- get_theme_colors(\n  palette = list(\n    \"dot\" = \"#8073AC\",\n    \"range\" = \"gray70\",\n    \"top\" = \"#E08214\",\n    \"bottom\" = \"#542788\"\n  )\n)\n\n### |-  titles and caption ----\ntitle_text <- \"Pok√©mon Speed by Type\"\nsubtitle_text <- \"Flying types are the fastest, while Fairy types are the slowest\"\n\n# Create caption\ncaption_text <- create_swd_caption(\n  year = 2025,\n  month = \"Nov\",\n  source_text = \"{ pokemon R package }\"\n)\n\n### |-  fonts ----\nsetup_fonts()\nfonts <- get_font_families()\n\n### |-  plot theme ----\n# Start with base theme\nbase_theme <- create_base_theme(colors)\n\n# Add weekly-specific theme elements\nweekly_theme <- extend_weekly_theme(\n  base_theme,\n  theme(\n    # Text styling\n    plot.title = element_text(\n      face = \"bold\", family = fonts$title, size = rel(1.4),\n      color = colors$title, margin = margin(b = 10), hjust = 0\n    ),\n    plot.subtitle = element_text(\n      face = \"italic\", family = fonts$subtitle, lineheight = 1.2,\n      color = colors$subtitle, size = rel(0.9), margin = margin(b = 20), hjust = 0\n    ),\n\n    ## Grid\n    panel.grid.major.y = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.grid.major.x = element_line(color = \"gray90\", linewidth = 0.3),\n\n    # Axes\n    axis.title = element_text(size = rel(0.9), color = \"gray30\"),\n    axis.text = element_text(color = \"gray30\"),\n    axis.text.y = element_text(size = rel(0.95)),\n    axis.ticks = element_blank(),\n\n    # Facets\n    strip.background = element_rect(fill = \"gray95\", color = NA),\n    strip.text = element_text(\n      face = \"bold\",\n      color = \"gray20\",\n      size = rel(1),\n      margin = margin(t = 8, b = 8)\n    ),\n    panel.spacing = unit(2, \"lines\"),\n\n    # Legend elements\n    legend.position = \"plot\",\n    legend.title = element_text(\n      family = fonts$tsubtitle,\n      color = colors$text, size = rel(0.8), face = \"bold\"\n    ),\n    legend.text = element_text(\n      family = fonts$tsubtitle,\n      color = colors$text, size = rel(0.7)\n    ),\n    legend.margin = margin(t = 15),\n\n    # Plot margin\n    plot.margin = margin(20, 20, 20, 20)\n  )\n)\n\n# Set theme\ntheme_set(weekly_theme)\n```\n````\n:::\n\n\n#### 6. Plot\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: plot\n\np <- ggplot(pokemon_summary, aes(y = type_1)) +\n  # Geoms\n  geom_vline(\n    xintercept = overall_median,\n    linetype = \"dashed\",\n    color = \"gray50\",\n    linewidth = 0.6\n  ) +\n  geom_segment(\n    aes(x = min_speed, xend = max_speed, yend = type_1),\n    color = colors$palette$range,\n    linewidth = 2.5,\n    alpha = 0.35\n  ) +\n  geom_point(\n    aes(x = min_speed),\n    color = colors$palette$range,\n    size = 2.5,\n    alpha = 0.6,\n    shape = 124\n  ) +\n  geom_point(\n    aes(x = max_speed),\n    color = colors$palette$range,\n    size = 2.5,\n    alpha = 0.6,\n    shape = 124\n  ) +\n  geom_point(\n    aes(x = median_speed),\n    color = colors$palette$dot,\n    size = 6.5,\n    alpha = 0.9\n  ) +\n  geom_text(\n    data = pokemon_summary |> filter(rank <= 3),\n    aes(x = median_speed + 7, label = round(median_speed)),\n    hjust = 0,\n    size = 4,\n    fontface = \"bold\",\n    family = fonts$text,\n    color = colors$palette$top\n  ) +\n  geom_text(\n    data = pokemon_summary |> filter(rank > n() - 3),\n    aes(x = median_speed - 7, label = round(median_speed)),\n    hjust = 1,\n    size = 4,\n    fontface = \"bold\",\n    family = fonts$text,\n    color = colors$palette$bottom\n  ) +\n  # Scales\n  scale_x_continuous(\n    breaks = seq(0, 180, 20),\n    limits = c(0, 180),\n    expand = expansion(mult = c(0.01, 0.02))\n  ) +\n  scale_y_discrete(\n    labels = function(x) {\n      counts <- pokemon_summary$count[match(x, pokemon_summary$type_1)]\n      glue(\"{str_to_title(x)} (n={counts})\")\n    },\n    expand = expansion(mult = c(0.01, 0.1))\n  ) +\n  # Labs\n  labs(\n    title = title_text,\n    subtitle = subtitle_text,\n    caption = caption_text,\n    x = \"Speed\",\n    y = \"Pok√©mon Type\"\n  ) +\n  # Annotations\n  annotate(\n    \"text\",\n    x = overall_median - 3,\n    y = 18.5,\n    label = \"Overall\\nMedian\",\n    size = 2.6,\n    color = \"gray50\",\n    lineheight = 0.9,\n    hjust = 1,\n    fontface = \"italic\"\n  ) +\n  annotate(\n    \"segment\",\n    x = 135, xend = 165, y = 19, yend = 19,\n    color = colors$palette$range,\n    linewidth = 2.5,\n    alpha = 0.35\n  ) +\n  annotate(\n    \"point\",\n    x = c(135, 165), y = c(19, 19),\n    color = colors$palette$range,\n    size = 2.5,\n    alpha = 0.6,\n    shape = 124\n  ) +\n  annotate(\n    \"point\",\n    x = 150, y = 19,\n    color = colors$palette$dot,\n    size = 6.5,\n    alpha = 0.9\n  ) +\n  annotate(\n    \"text\",\n    x = 150, y = 19.5,\n    label = \"Range (min-max) and median\",\n    size = 2.6,\n    color = \"gray40\",\n    hjust = 0.5\n  ) +\n  annotate(\n    \"text\",\n    x = 0, y = 19.1,\n    label = \"Top 3 &\\nBottom 3 labeled\",\n    size = 3.6,\n    color = \"gray40\",\n    hjust = 0\n  ) +\n  annotate(\n    \"text\",\n    x = 170, y = 19,\n    label = \"95\",\n    size = 3.5,\n    color = colors$palette$top,\n    fontface = \"bold\"\n  ) +\n  annotate(\n    \"text\",\n    x = 130, y = 19,\n    label = \"45\",\n    size = 3.5,\n    color = colors$palette$bottom,\n    fontface = \"bold\"\n  ) +\n  # Theme\n  theme(\n    plot.title = element_text(\n      size = rel(2),\n      family = fonts$title,\n      face = \"bold\",\n      color = colors$title,\n      margin = margin(b = 8)\n    ),\n    plot.subtitle = element_text(\n      size = rel(0.95),\n      family = fonts$subtitle,\n      color = \"gray40\",\n      margin = margin(b = 15)\n    ),\n    plot.caption = element_markdown(\n      size = rel(0.65),\n      family = fonts$caption,\n      color = colors$caption,\n      hjust = 0.5,\n      margin = margin(t = 15)\n    )\n  )\n```\n````\n:::\n\n\n#### 7. Save\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: save\n\n### |-  plot image ----  \nsave_plot(\n  p, \n  type = 'swd', \n  year = 2025, \n  month = 11, \n  width  = 8,\n  height = 10,\n  )\n```\n````\n:::\n\n\n#### 8. Session Info\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for Session Info\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.4.1 (2024-06-14 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 11 x64 (build 26100)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=English_United States.utf8 \n[2] LC_CTYPE=English_United States.utf8   \n[3] LC_MONETARY=English_United States.utf8\n[4] LC_NUMERIC=C                          \n[5] LC_TIME=English_United States.utf8    \n\ntime zone: America/New_York\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nother attached packages:\n [1] here_1.0.1      glue_1.8.0      scales_1.3.0    janitor_2.2.0  \n [5] showtext_0.9-7  showtextdb_3.0  sysfonts_0.8.9  ggtext_0.1.2   \n [9] lubridate_1.9.3 forcats_1.0.0   stringr_1.5.1   dplyr_1.1.4    \n[13] purrr_1.0.2     readr_2.1.5     tidyr_1.3.1     tibble_3.2.1   \n[17] ggplot2_3.5.1   tidyverse_2.0.0 pacman_0.5.1   \n\nloaded via a namespace (and not attached):\n [1] gtable_0.3.6      xfun_0.49         htmlwidgets_1.6.4 tzdb_0.5.0       \n [5] vctrs_0.6.5       tools_4.4.0       generics_0.1.3    curl_6.0.0       \n [9] parallel_4.4.0    gifski_1.32.0-1   fansi_1.0.6       pkgconfig_2.0.3  \n[13] skimr_2.1.5       lifecycle_1.0.4   farver_2.1.2      compiler_4.4.0   \n[17] textshaping_0.4.0 munsell_0.5.1     repr_1.1.7        codetools_0.2-20 \n[21] snakecase_0.11.1  htmltools_0.5.8.1 yaml_2.3.10       pillar_1.9.0     \n[25] crayon_1.5.3      camcorder_0.1.0   magick_2.8.5      commonmark_1.9.2 \n[29] tidyselect_1.2.1  digest_0.6.37     stringi_1.8.4     rsvg_2.6.1       \n[33] rprojroot_2.0.4   fastmap_1.2.0     grid_4.4.0        colorspace_2.1-1 \n[37] cli_3.6.4         magrittr_2.0.3    base64enc_0.1-3   utf8_1.2.4       \n[41] withr_3.0.2       bit64_4.5.2       timechange_0.3.0  rmarkdown_2.29   \n[45] bit_4.5.0         ragg_1.3.3        hms_1.1.3         evaluate_1.0.1   \n[49] knitr_1.49        markdown_1.13     rlang_1.1.6       gridtext_0.1.5   \n[53] Rcpp_1.0.13-1     xml2_1.3.6        renv_1.0.3        svglite_2.1.3    \n[57] rstudioapi_0.17.1 vroom_1.6.5       jsonlite_1.8.9    R6_2.5.1         \n[61] systemfonts_1.1.0\n```\n\n\n:::\n:::\n\n:::\n\n#### 9. GitHub Repository\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for GitHub Repo\n\nThe complete code for this analysis is available in [`swd_2025_11.qmd`](https://github.com/poncest/personal-website/tree/master/data_visualizations/SWD%20Challenge/2025/swd_2025_11.qmd). For the full repository, [click here](https://github.com/poncest/personal-website/).\n:::\n\n#### 10. References\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for References\n\nData Sources:\n\n-   TidyTuesday 2025 week 13 : [Pokemon ](https://github.com/rfordatascience/tidytuesday/blob/main/data/2025/2025-04-01/readme.md)\n\n\n:::\n\n#### 11. Custom Functions Documentation\n\n::: {.callout-note collapse=\"true\"}\n##### üì¶ Custom Helper Functions\n\nThis analysis uses custom functions from my personal module library for efficiency and consistency across projects.\n\n**Functions Used:**\n\n-   **`fonts.R`**: `setup_fonts()`, `get_font_families()` - Font management with showtext\n-   **`social_icons.R`**: `create_social_caption()` - Generates formatted social media captions\n-   **`image_utils.R`**: `save_plot()` - Consistent plot saving with naming conventions\n-   **`base_theme.R`**: `create_base_theme()`, `extend_weekly_theme()`, `get_theme_colors()` - Custom ggplot2 themes\n\n**Why custom functions?**\\\nThese utilities standardize theming, fonts, and output across all my data visualizations. The core analysis (data tidying and visualization logic) uses only standard tidyverse packages.\n\n**Source Code:**\\\nView all custom functions ‚Üí [GitHub: R/utils](https://github.com/poncest/personal-website/tree/master/R)\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}