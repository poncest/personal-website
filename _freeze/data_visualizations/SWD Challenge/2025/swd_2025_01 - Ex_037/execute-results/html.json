{
  "hash": "92de2d837bb8dd8cc7738d0c35bbc702",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Energy Drink Brand Comparison: Activity Support Drives High Scores\"\nsubtitle: \"'Supports an active day' ranks highest across all brands, while health claims show largest variation.\"\ndescription: \"A comparative analysis of three energy drink brands focusing on consumer attributes. The visualization highlights key performance metrics, showcasing how brands excel in activity support while revealing significant variations in health-related claims. Part of the #SWDchallenge exploring effective use of alignment and white space in data visualization.\"\nauthor: \"Steven Ponce\"\ndate: \"2025-01-15\"\ndate-modified: last-modified\ncategories: [\n  \"Data Visualization\",\n  \"SWD Challenge\",\n  \"R\",\n  \"ggplot2\",\n  \"Brand Analysis\",\n  \"Consumer Research\",\n  \"Market Analysis\"\n]\nimage: \"thumbnails/swd_2025_01-Ex_0037.png\"\nformat:\n  html:\n    toc: true\n    toc-depth: 5\n    code-link: true\n    code-fold: true\n    code-tools: true\n    code-summary: \"Show code\"\n    self-contained: true\neditor_options: \n  chunk_output_type: inline\nexecute: \n  freeze: true                                          \n  cache: true                                                   \n  error: false\n  message: false\n  warning: false\n  eval: true\nshare:\n  permalink: \"https://stevenponce.netlify.app/data_visualizations/SWD Challenge/2025/swd_2025_01 - Ex_037.html\" \n  description: \"Analysis comparing energy drink brands' consumer ratings across key attributes, revealing strong performance in activity support but varying health perceptions. #SWDchallenge\"\n  linkedin: true\n  twitter: true\n  email: true\n---\n\n\n\n\n### Original\n\nThe goal of this month's Storytelling with Data exercise is to use space and alignment effectively.\n\n![Original chart](https://swd-community-media.s3.amazonaws.com/media/Screenshot_2025-01-15_at_09.16.11.png){#fig-1}\n\n\nAdditional information can be found [HERE](https://community.storytellingwithdata.com/exercises/use-space-and-alignment-effectively)\n\n\n### **Makeover**\n![A connected dot plot comparing consumer ratings of three energy drink brands (Lime Rush, Neon Pulse, and Storm Fuel) across 10 attributes. The visualization shows 'Supports an active day' scoring highest (~95%) across all brands, while 'Healthy energy source' shows the largest variation between brands, with Lime Rush scoring significantly lower (4%) than its competitors.](swd_2025_01-Ex_0037.png){#fig-1}\n\n\n### <mark> __Steps to Create this Graphic__ </mark>\n\n#### 1. Load Packages & Setup \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (!require(\"pacman\")) install.packages(\"pacman\")\npacman::p_load(\n  tidyverse,         # Easily Install and Load the 'Tidyverse'\n  ggtext,            # Improved Text Rendering Support for 'ggplot2'\n  showtext,          # Using Fonts More Easily in R Graphs\n  scales,            # Scale Functions for Visualization\n  glue,              # Interpreted String Literals\n  here,              # A Simpler Way to Find Your Files\n  janitor,           # Simple Tools for Examining and Cleaning Dirty Data\n  camcorder          # Record Your Plot History\n) \n\n# Source utility functions\nsuppressMessages(source(here::here(\"R/utils/fonts.R\")))\nsource(here::here(\"R/utils/social_icons.R\"))\nsource(here::here(\"R/utils/image_utils.R\"))\nsource(here::here(\"R/themes/base_theme.R\"))\n```\n:::\n\n\n\n#### 2. Read in the Data \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nraw_data <- read_csv(\n  here::here(\"data/lets_practice_exercise_037.csv\")) |> clean_names()\n```\n:::\n\n\n\n#### 3. Examine the Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(raw_data )\n```\n:::\n\n\n\n#### 4. Tidy Data \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntidy_energy_drinks <- raw_data |>\n  pivot_longer(\n    cols = c(storm_fuel, neon_pulse, lime_rush),\n    names_to = \"brand\",\n    values_to = \"score\"\n  ) |>\n  mutate(\n    brand = str_to_title(str_replace(brand, \"_\", \" \")),\n    # Reorder consumer likeability for more logical presentation\n    consumer_likeability = factor(consumer_likeability,\n      levels = c(\n        \"Won't buy\", \"Definitely buy\", \"Might buy\",\n        \"Bold and exciting name\", \"Refreshing options\",\n        \"Reliable energy boost\", \"Eye-catching design\",\n        \"Reasonably priced\", \"Healthy energy source\",\n        \"Supports an active day\"\n      )\n    )\n  )\n```\n:::\n\n\n\n\n#### 5. Visualization Parameters \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n### |-  plot aesthetics ----\n# Get base colors with custom palette\ncolors <- get_theme_colors(palette = c(\"#2c3e50\", \"#e74c3c\", \"#3498db\"))\n\n### |-  titles and caption ----\ntitle_text   <- str_glue(\"Energy Drink Brand Comparison: Activity Support Drives High Scores\") \n\nsubtitle_text <- str_glue(\"'Supports an active day' ranks highest across all brands, while health claims show largest variation\")\n\n# Create caption\ncaption_text <- create_swd_caption(\n  year = 2025,\n  month = \"Jan\",\n  source_text = \"Let's Practice! Exercise 3.7\"\n)\n\n\n# |- fonts ----\nsetup_fonts()\nfonts <- get_font_families()\n\n### |-  plot theme ----\n# Start with base theme\nbase_theme <- create_base_theme(colors)\n            \n\n# Add weekly-specific theme elements\nweekly_theme <- extend_weekly_theme(\n    base_theme,\n    theme(\n      legend.position     = \"top\",\n      plot.margin         = margin(t = 10, r = 20, b = 10, l = 20),\n      axis.title.x        = element_text(margin = margin(10, 0, 0, 0), size = rel(1.1), \n                                         color = colors$text, family = fonts$text, face = \"bold\", hjust = 0.5),\n      axis.title.y        = element_text(margin = margin(0, 10, 0, 0), size = rel(1.1), \n                                         color = colors$text, family = fonts$text, face = \"bold\", hjust = 0.5),\n      axis.text           = element_text(size = rel(0.9), color = colors$text),\n      axis.line.x         = element_line(color = \"#252525\", linewidth = .3),\n      axis.ticks.x        = element_line(color = colors$text),  \n      axis.title          = element_text(face = \"bold\"),\n      panel.grid.minor    = element_blank(),\n      panel.grid.major    = element_blank(),\n      panel.grid.major.y  = element_line(color = \"grey85\", linewidth = .4)\n      )\n)\n      \n\n# Set theme\ntheme_set(weekly_theme)\n```\n:::\n\n\n\n\n#### 6. Plot\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np <- ggplot(\n  data = tidy_energy_drinks,\n  aes(x = score, y = consumer_likeability, group = consumer_likeability, color = brand)\n  ) +\n  \n  # Geoms\n  geom_line(color = \"gray85\", linewidth = 0.8) +\n  geom_point(size = 3.5) +\n\n  # Scales\n  scale_x_continuous(\n    limits = c(0, 100),\n    breaks = seq(0, 100, by = 20)\n  ) +\n  scale_y_discrete() +\n  scale_color_manual(values = colors$palette) +\n  coord_cartesian(clip = \"off\") +\n\n  # Labs\n  labs(\n    x = \"Score\",\n    y = NULL,\n    color = \"Brand: \",\n    title = title_text,\n    subtitle = subtitle_text,\n    caption = caption_text,\n  ) + \n  \n  # Theme\n  theme(\n    plot.title = element_markdown(\n      size = rel(1.7),\n      family = \"title\",\n      face = \"bold\",\n      color = colors$title,\n      lineheight = 1.1,\n      margin = margin(t = 5, b = 5)\n    ),\n    plot.subtitle = element_markdown(\n      size = rel(1.05),\n      family = \"subtitle\",\n      color = colors$subtitle,\n      lineheight = 1.1,\n      margin = margin(t = 5, b = 20)\n    ),\n    plot.caption = element_markdown(\n      size = rel(0.65),\n      family = \"caption\",\n      color = colors$caption,\n      lineheight = 1.1,\n      hjust = 0.5,\n      halign = 0.5,\n      margin = margin(t = 15, b = 5)\n    )\n  ) \n```\n:::\n\n\n\n#### 7. Save\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n### |-  plot image ----  \n\nsource(here::here(\"R/image_utils.R\"))\nsave_plot(p, type = 'swd', year = 2025, month = 01, exercise = 37, \n                    width = 10, height = 10)\n```\n:::\n\n\n\n\n#### 8. Session Info\n\n::: {.callout-tip collapse=\"true\"}\n##### Expand for Session Info\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.4.1 (2024-06-14 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 11 x64 (build 22631)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=English_United States.utf8 \n[2] LC_CTYPE=English_United States.utf8   \n[3] LC_MONETARY=English_United States.utf8\n[4] LC_NUMERIC=C                          \n[5] LC_TIME=English_United States.utf8    \n\ntime zone: America/New_York\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nother attached packages:\n [1] camcorder_0.1.0 janitor_2.2.0   here_1.0.1      glue_1.8.0     \n [5] scales_1.3.0    showtext_0.9-7  showtextdb_3.0  sysfonts_0.8.9 \n [9] ggtext_0.1.2    lubridate_1.9.3 forcats_1.0.0   stringr_1.5.1  \n[13] dplyr_1.1.4     purrr_1.0.2     readr_2.1.5     tidyr_1.3.1    \n[17] tibble_3.2.1    ggplot2_3.5.1   tidyverse_2.0.0 pacman_0.5.1   \n\nloaded via a namespace (and not attached):\n [1] gtable_0.3.6      xfun_0.49         htmlwidgets_1.6.4 tzdb_0.4.0       \n [5] vctrs_0.6.5       tools_4.4.0       generics_0.1.3    curl_6.0.0       \n [9] parallel_4.4.0    gifski_1.32.0-1   fansi_1.0.6       pkgconfig_2.0.3  \n[13] lifecycle_1.0.4   farver_2.1.2      compiler_4.4.0    textshaping_0.4.0\n[17] munsell_0.5.1     codetools_0.2-20  snakecase_0.11.1  htmltools_0.5.8.1\n[21] yaml_2.3.10       pillar_1.9.0      crayon_1.5.3      magick_2.8.5     \n[25] commonmark_1.9.2  tidyselect_1.2.1  digest_0.6.37     stringi_1.8.4    \n[29] rsvg_2.6.1        rprojroot_2.0.4   fastmap_1.2.0     grid_4.4.0       \n[33] colorspace_2.1-1  cli_3.6.3         magrittr_2.0.3    utf8_1.2.4       \n[37] withr_3.0.2       bit64_4.5.2       timechange_0.3.0  rmarkdown_2.29   \n[41] bit_4.5.0         ragg_1.3.3        hms_1.1.3         evaluate_1.0.1   \n[45] knitr_1.49        markdown_1.13     rlang_1.1.4       gridtext_0.1.5   \n[49] Rcpp_1.0.13-1     xml2_1.3.6        renv_1.0.3        svglite_2.1.3    \n[53] rstudioapi_0.17.1 vroom_1.6.5       jsonlite_1.8.9    R6_2.5.1         \n[57] systemfonts_1.1.0\n```\n\n\n:::\n:::\n\n\n:::\n\n\n#### 9. GitHub Repository\n::: {.callout-tip collapse=\"true\"}\n##### Expand for GitHub Repo\n \nThe complete code for this analysis is available in [`swd_2025_01 - Ex_037.qmd`](https://github.com/poncest/personal-website/tree/master/data_visualizations/SWD%20Challenge/2025/01_Jan/swd_2025_01 - Ex_037.qmd).\nFor the full repository, [click here](https://github.com/poncest/personal-website/).\n:::\n\n#### 10. References\n::: {.callout-tip collapse=\"true\"}\n##### Expand for References\n \n1. Data Sources:\n   - Storytelling with Data Excercise | use space and alignment effectively: [Download the data](https://community.storytellingwithdata.com/exercises/use-space-and-alignment-effectively)\n\n\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}